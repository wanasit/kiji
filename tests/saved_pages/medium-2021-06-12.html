<!doctype html><html lang="en"><head><script defer src="https://cdn.optimizely.com/js/16180790160.js"></script><title data-rh="true">How Japanese Tokenizers Work. A deep dive into Japanese tokenization… | by Wanasit Tanakitrungruang | Towards Data Science</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2020-09-07T13:37:59.673Z"/><meta data-rh="true" name="title" content="How Japanese Tokenizers Work. A deep dive into Japanese tokenization… | by Wanasit Tanakitrungruang | Towards Data Science"/><meta data-rh="true" property="og:title" content="How Japanese Tokenizers Work"/><meta data-rh="true" property="twitter:title" content="How Japanese Tokenizers Work"/><meta data-rh="true" name="twitter:site" content="@TDataScience"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/87ab6b256984"/><meta data-rh="true" property="al:android:url" content="medium://p/87ab6b256984"/><meta data-rh="true" property="al:ios:url" content="medium://p/87ab6b256984"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="I recently have been working on Kotori and doing research on Japanese NLP tools. I’m writing this article to share what I have learned so far about Japanese tokenization and its components. If you…"/><meta data-rh="true" property="og:description" content="A deep dive into Japanese tokenization and its components (Dictionary, Lattice, Viterbi algorithm, etc) by open-source library examples"/><meta data-rh="true" property="twitter:description" content="A deep dive into Japanese tokenization and its components (Dictionary, Lattice, Viterbi algorithm, etc) by open-source library examples"/><meta data-rh="true" property="og:url" content="https://towardsdatascience.com/how-japanese-tokenizers-work-87ab6b256984"/><meta data-rh="true" property="al:web:url" content="https://towardsdatascience.com/how-japanese-tokenizers-work-87ab6b256984"/><meta data-rh="true" property="og:image" content="https://miro.medium.com/max/1200/0*Hv1K60BZzfwAWdXZ"/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/1200/0*Hv1K60BZzfwAWdXZ"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" property="article:author" content="https://medium.com/@wanasit"/><meta data-rh="true" name="author" content="Wanasit Tanakitrungruang"/><meta data-rh="true" name="robots" content="index,follow,max-image-preview:large"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" name="twitter:label1" content="Reading time"/><meta data-rh="true" name="twitter:data1" content="8 min read"/><meta data-rh="true" name="parsely-post-id" content="87ab6b256984"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/fit/c/152/152/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/fit/c/120/120/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/fit/c/76/76/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/fit/c/60/60/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/Medium-Avatar-500x500.svg" color="#171717"/><link data-rh="true" id="glyph_preload_link" rel="preload" as="style" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" rel="author" href="https://medium.com/@wanasit"/><link data-rh="true" rel="canonical" href="https://towardsdatascience.com/how-japanese-tokenizers-work-87ab6b256984"/><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/87ab6b256984"/><link data-rh="true" rel="icon" href="https://miro.medium.com/fit/c/256/256/1*ChFMdf--f5jbm-AYv6VdYA@2x.png"/><link data-rh="true" rel="preload" href="https://miro.medium.com/max/2802/1*sfUruIusLq6tbpLx0sDYZQ.png" as="image"/><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F0*Hv1K60BZzfwAWdXZ"],"url":"https:\u002F\u002Ftowardsdatascience.com\u002Fhow-japanese-tokenizers-work-87ab6b256984","dateCreated":"2020-09-06T00:29:28.457Z","datePublished":"2020-09-06T00:29:28.457Z","dateModified":"2020-09-07T13:38:05.499Z","headline":"How Japanese Tokenizers Work - Towards Data Science","name":"How Japanese Tokenizers Work - Towards Data Science","description":"I recently have been working on Kotori and doing research on Japanese NLP tools. I’m writing this article to share what I have learned so far about Japanese tokenization and its components. If you…","identifier":"87ab6b256984","keywords":["Lite:true","Tag:NLP","Tag:Japanese","Tag:Algorithms","Tag:Programming","Tag:Tokenization","Publication:towards-data-science","Elevated:false","LockedPostSource:LOCKED_POST_SOURCE_UGC","LayerCake:4"],"author":{"@type":"Person","name":"Wanasit Tanakitrungruang","url":"https:\u002F\u002Ftowardsdatascience.com\u002F@wanasit"},"creator":["Wanasit Tanakitrungruang"],"publisher":{"@type":"Organization","name":"Towards Data Science","url":"towardsdatascience.com","logo":{"@type":"ImageObject","width":165,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F330\u002F1*mG6i4Bh_LgixUYXJgQpYsg@2x.png"}},"mainEntityOfPage":"https:\u002F\u002Ftowardsdatascience.com\u002Fhow-japanese-tokenizers-work-87ab6b256984","isAccessibleForFree":"False","hasPart":{"@type":"WebPageElement","isAccessibleForFree":"False","cssSelector":".meteredContent"}}</script><link rel="preload" href="https://cdn.optimizely.com/js/16180790160.js" as="script"><style type="text/css" data-fela-rehydration="537" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{opacity:0;transform:translateY(-60px)}100%{opacity:1;transform:translateY(0px)}}@-moz-keyframes k1{0%{opacity:0;transform:translateY(-60px)}100%{opacity:1;transform:translateY(0px)}}@keyframes k1{0%{opacity:0;transform:translateY(-60px)}100%{opacity:1;transform:translateY(0px)}}@-webkit-keyframes k2{0%{opacity:1;transform:translateY(0px)}100%{opacity:0;transform:translateY(-60px)}}@-moz-keyframes k2{0%{opacity:1;transform:translateY(0px)}100%{opacity:0;transform:translateY(-60px)}}@keyframes k2{0%{opacity:1;transform:translateY(0px)}100%{opacity:0;transform:translateY(-60px)}}@-webkit-keyframes k3{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}@-moz-keyframes k3{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}@keyframes k3{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{height:100vh}.m{width:100vw}.n{display:flex}.o{align-items:center}.p{justify-content:center}.q{height:25px}.r{fill:rgba(41, 41, 41, 1)}.s{display:block}.t{margin-bottom:36px}.v{width:100%}.z{flex:0 0 auto}.ab{justify-self:flex-end}.ac{z-index:500}.ae{visibility:visible}.af{overflow-x:scroll}.ag{white-space:nowrap}.ah{scrollbar-width:none}.ai{-ms-overflow-style:none}.aj::-webkit-scrollbar{display:none}.ak{box-shadow:inset 0 -1px 0 rgba(230, 230, 230, 1)}.al{min-height:184px}.ao{flex-direction:column}.ap{background-color:#355876}.aq{display:none}.as{border-bottom:none}.at{position:relative}.az{max-width:1192px}.ba{min-width:0}.bb{height:62px}.bc{flex-direction:row}.bd{flex:1 0 auto}.be{margin-left:0px}.bf{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.bg{font-size:14px}.bh{line-height:20px}.bi{color:rgba(197, 210, 225, 1)}.bj{color:rgba(233, 241, 250, 1)}.bk{fill:rgba(233, 241, 250, 1)}.bl{font-size:inherit}.bm{border:inherit}.bn{font-family:inherit}.bo{letter-spacing:inherit}.bp{font-weight:inherit}.bq{padding:0}.br{margin:0}.bv:disabled{cursor:default}.bw:disabled{color:rgba(163, 208, 162, 0.5)}.bx:disabled{fill:rgba(163, 208, 162, 0.5)}.by{min-height:115px}.bz{justify-content:space-between}.cf{align-items:flex-start}.cg{margin-bottom:0px}.ch{margin-top:-32px}.ci{flex-wrap:wrap}.cl{margin-top:32px}.cm{margin-right:24px}.co{height:35px}.cp{width:112px}.cq{margin-right:12px}.cr{height:32px}.cs{overflow:visible}.ct{border-radius:1000px}.cu{background-color:rgba(53, 88, 118, 0.8)}.cv{fill:rgba(197, 210, 225, 1)}.cw{color:inherit}.cx{fill:rgba(117, 117, 117, 1)}.cy{padding:4px}.cz{margin-left:8px}.da{margin-right:10px}.db{display:inline-block}.dc{border:none}.dd{outline:none}.de{font:inherit}.df{font-size:16px}.dg{opacity:0}.dh{background-color:transparent}.di::placeholder{color:rgba(197, 210, 225, 1)}.dj{padding:0px}.dk{width:0px}.dl{transition:width 140ms ease-in, padding 140ms ease-in}.dm{fill:inherit}.dp:disabled{color:rgba(197, 210, 225, 1)}.dq:disabled{fill:rgba(197, 210, 225, 1)}.dr{fill:rgba(251, 255, 255, 1)}.ds{padding-top:1px}.dt{height:70px}.dv{line-height:24px}.dw:before{margin-bottom:-10px}.dx:before{content:""}.dy:before{display:table}.dz:before{border-collapse:collapse}.ea:after{margin-top:-6px}.eb:after{content:""}.ec:after{display:table}.ed:after{border-collapse:collapse}.ee{color:rgba(117, 117, 117, 1)}.ef{margin-right:32px}.eg{margin-bottom:-16px}.eh{margin-top:-14px}.ei{display:inline-flex}.el:disabled{color:rgba(117, 117, 117, 1)}.em:disabled{fill:rgba(117, 117, 117, 1)}.en{margin-left:12px}.eo{margin:0 12px}.ep{position:absolute}.eq{right:24px}.er{margin:0px}.es{border:0px}.et{cursor:pointer}.eu{stroke:rgba(117, 117, 117, 1)}.ex{border-top:none}.ey{left:0}.ez{position:fixed}.fa{right:0}.fb{top:0}.fc{visibility:hidden}.fe{height:60px}.fh{color:rgba(102, 138, 170, 1)}.fi{fill:rgba(102, 138, 170, 1)}.fl{padding-left:24px}.fm{padding-right:24px}.fn{margin-left:auto}.fo{margin-right:auto}.fp{max-width:728px}.fq{box-sizing:border-box}.fr{background:rgba(255, 255, 255, 1)}.fs{border:1px solid rgba(230, 230, 230, 1)}.ft{border-radius:4px}.fu{box-shadow:0 1px 4px rgba(230, 230, 230, 1)}.fv{max-height:100vh}.fw{overflow-y:auto}.fx{top:calc(100vh + 100px)}.fy{bottom:calc(100vh + 100px)}.fz{width:10px}.ga{pointer-events:none}.gb{word-break:break-word}.gc{word-wrap:break-word}.gd:after{display:block}.ge:after{clear:both}.gf{max-width:680px}.gg{line-height:1.23}.gh{letter-spacing:0}.gi{font-style:normal}.gj{font-weight:700}.he{margin-bottom:-0.27em}.hf{color:rgba(41, 41, 41, 1)}.hg{line-height:1.394}.hw{margin-bottom:-0.42em}.ia{width:28px}.ib{height:28px}.ic{fill:rgba(26, 137, 23, 1)}.id{width:calc(100% + 24px)}.ie{height:calc(100% + 24px)}.if{top:50%}.ig{left:50%}.ih{transform:translateX(-50%) translateY(-50%)}.ii{border-radius:50%}.ij{fill:rgba(61, 61, 61, 1)}.ik{margin-top:-2px}.il{padding-left:4px}.im{margin:0 4px}.in{margin:0 7px}.io{align-items:flex-end}.ix{padding-right:8px}.iy{margin-right:8px}.iz{margin-right:-4px}.jc{line-height:1.58}.jd{letter-spacing:-0.004em}.je{font-family:charter, Georgia, Cambria, "Times New Roman", Times, serif}.js{margin-top:24px}.jt{margin-bottom:-0.46em}.ju{text-decoration:underline}.ka{font-style:italic}.kb{clear:both}.ki{cursor:zoom-in}.kj{z-index:auto}.kl{max-width:100%}.km{height:auto}.kn{margin-top:10px}.ko{text-align:center}.kr{line-height:1.18}.ks{letter-spacing:-0.022em}.kt{font-weight:500}.lg{margin-bottom:-0.31em}.lm{list-style-type:disc}.ln{margin-left:30px}.lo{padding-left:0px}.lu{line-height:1.12}.mi{margin-bottom:-0.28em}.mj{padding:20px}.mk{background:rgba(242, 242, 242, 1)}.ml{overflow-x:auto}.mm{font-family:Menlo, Monaco, "Courier New", Courier, monospace}.mn{margin-top:-0.09em}.mo{margin-bottom:-0.09em}.mp{white-space:pre-wrap}.mq{background-color:rgba(242, 242, 242, 1)}.mr{padding:2px 4px}.ms{font-size:75%}.mt> strong{font-family:inherit}.mz{max-width:1110px}.na{transition:opacity 100ms 400ms}.nb{height:100%}.nc{overflow:hidden}.nd{will-change:transform}.ne{transform:translateZ(0)}.nf{margin:auto}.ng{padding-bottom:29.18918918918919%}.nh{height:0}.ni{filter:blur(20px)}.nj{transform:scale(1.1)}.nk{font-style:inherit}.nl{max-width:565px}.nm{padding-bottom:84.24778761061947%}.nn{box-shadow:inset 3px 0 0 0 rgba(41, 41, 41, 1)}.no{padding-left:23px}.np{margin-left:-20px}.nq{margin-bottom:14px}.nr{padding-top:24px}.ns{padding-bottom:10px}.nt{background-color:rgba(8, 8, 8, 1)}.nu{height:3px}.nv{width:3px}.nw{margin-right:20px}.nx{will-change:opacity}.ny{width:188px}.nz{transform:translateX(406px)}.oa{top:calc(65px + 54px + 14px)}.od{will-change:opacity, transform}.oe{transform:translateY(159px)}.og{width:197px}.oh{margin-bottom:32px}.oi{padding-bottom:5px}.oj{padding-top:2px}.ok{font-size:13px}.ol{max-height:20px}.om{text-overflow:ellipsis}.on{display:-webkit-box}.oo{-webkit-line-clamp:1}.op{-webkit-box-orient:vertical}.or{word-break:break-all}.os{padding-top:32px}.ot{border-top:1px solid rgba(230, 230, 230, 1)}.ou{justify-content:flex-start}.ov{margin-bottom:19px}.ow{margin-left:-3px}.ox{margin-top:-7px}.oy{margin-right:27px}.pe{outline:0}.pf{border:0}.pg{user-select:none}.ph{cursor:not-allowed}.pi> svg{pointer-events:none}.pk{-webkit-user-select:none}.pn{opacity:0.25}.pv button{text-align:left}.pw{margin-right:16px}.px{opacity:1}.pz{padding-right:4px}.qi{margin-top:40px}.qj{padding-bottom:25px}.qk{margin-top:25px}.ql{max-width:155px}.qp{top:1px}.qx{margin-left:-1px}.rg{padding-bottom:40px}.rh{list-style-type:none}.ri{margin-bottom:8px}.rj{line-height:22px}.rk{border-radius:3px}.rl{padding:5px 10px}.rm{text-decoration:none}.rn{padding-bottom:4px}.ro{background-color:rgba(250, 250, 250, 1)}.se{padding-top:5px}.sf{padding-top:25px}.sl{margin-bottom:96px}.sm{color:rgba(255, 255, 255, 1)}.sn{padding:7px 16px 9px}.so{fill:rgba(255, 255, 255, 1)}.sp{background:rgba(102, 138, 170, 1)}.sq{border-color:rgba(102, 138, 170, 1)}.st:disabled{cursor:inherit}.su:disabled{opacity:0.3}.sv:disabled:hover{background:rgba(102, 138, 170, 1)}.sw:disabled:hover{border-color:rgba(102, 138, 170, 1)}.sx{border-radius:99em}.sy{border-width:1px}.sz{border-style:solid}.ta{padding:32px 0}.tb{background-color:rgba(0, 0, 0, 0.9)}.tf:disabled{color:rgba(255, 255, 255, 0.7)}.tg:disabled{fill:rgba(255, 255, 255, 0.7)}.th{height:22px}.ti{padding-top:8px}.tj{width:200px}.tl{color:rgba(255, 255, 255, 0.98)}.tp{color:rgba(255, 255, 255, 0.7)}.bs:hover{cursor:pointer}.bt:hover{color:rgba(251, 255, 255, 1)}.bu:hover{fill:rgba(251, 255, 255, 1)}.dn:hover{color:rgba(242, 248, 253, 1)}.do:hover{fill:rgba(242, 248, 253, 1)}.ej:hover{color:rgba(25, 25, 25, 1)}.ek:hover{fill:rgba(25, 25, 25, 1)}.fj:hover{color:rgba(90, 118, 144, 1)}.fk:hover{fill:rgba(90, 118, 144, 1)}.ja:hover{fill:rgba(8, 8, 8, 1)}.pm:hover{fill:rgba(41, 41, 41, 1)}.py:hover{fill:rgba(117, 117, 117, 1)}.sr:hover{background:rgba(90, 118, 144, 1)}.ss:hover{border-color:rgba(90, 118, 144, 1)}.td:hover{color:rgba(255, 255, 255, 0.99)}.te:hover{fill:rgba(255, 255, 255, 0.99)}.tm:hover{text-decoration:underline}.jb:focus{fill:rgba(8, 8, 8, 1)}.kk:focus{transform:scale(1.01)}.pl:focus{fill:rgba(41, 41, 41, 1)}.pj:active{border-style:none}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.w{display:flex}.ay{margin:0 64px}.ha{font-size:46px}.hb{margin-top:0.6em}.hc{line-height:56px}.hd{letter-spacing:-0.011em}.ht{font-size:22px}.hu{margin-top:0.92em}.hv{line-height:28px}.iv{margin-left:30px}.jp{font-size:21px}.jq{line-height:32px}.jr{letter-spacing:-0.003em}.jz{margin-top:2em}.kg{margin-top:56px}.le{margin-top:1.72em}.lf{letter-spacing:0}.ll{margin-top:0.86em}.lt{margin-top:1.05em}.mf{font-size:30px}.mg{margin-top:1.95em}.mh{line-height:36px}.my{margin-top:1.91em}.pd{margin-right:5px}.pu{margin-top:5px}.qh{padding-left:6px}.qr{display:inline-block}.qw{width:8px}.re{padding-left:7px}.rf{top:3px}.sb{font-size:20px}.sc{line-height:24px}.sd{max-height:24px}.sk{margin:0}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.iu{margin-left:30px}.kp{margin-left:auto}.kq{text-align:center}.pc{margin-right:5px}.pt{margin-top:5px}.qg{padding-left:6px}.qq{display:inline-block}.qv{width:8px}.rc{padding-left:7px}.rd{top:3px}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.it{margin-left:30px}.pb{margin-right:5px}.ps{margin-top:5px}.qe{padding-left:6px}.qf{top:3px}.qo{display:inline-block}.qu{width:8px}.rb{padding-left:3px}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.u{margin-bottom:20px}.am{box-shadow:inset 0 -1px 0 rgba(230, 230, 230, 1)}.an{min-height:230px}.ar{display:block}.ca{min-height:98px}.cb{display:flex}.cc{align-items:flex-start}.cd{flex-direction:column}.ce{justify-content:flex-end}.cj{margin-bottom:28px}.ck{margin-top:0px}.cn{margin-top:28px}.du{margin:0}.ev{border-top:1px solid rgba(230, 230, 230, 1)}.ew{border-bottom:1px solid rgba(230, 230, 230, 1)}.ff{align-items:center}.fg{flex:1 0 auto}.hy{margin-top:32px}.hz{flex-direction:column-reverse}.ir{margin-bottom:30px}.is{margin-left:0px}.pa{margin-left:8px}.pq{margin-top:2px}.pr{margin-right:16px}.qc{padding-left:6px}.qd{top:3px}.qn{display:inline-block}.qt{width:8px}.qy{margin-left:-4px}.ra{padding-left:3px}.tc{padding:32px 0}.tk{width:140px}.tn{margin-bottom:16px}.to{margin-top:30px}.tq{width:100%}.tr{flex-direction:row}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.au{margin:0 24px}.gk{font-size:32px}.gl{margin-top:0.64em}.gm{line-height:40px}.gn{letter-spacing:-0.016em}.hh{font-size:18px}.hi{margin-top:0.79em}.hj{line-height:24px}.hx{margin-top:32px}.ip{margin-bottom:30px}.iq{margin-left:0px}.jf{line-height:28px}.jg{letter-spacing:-0.003em}.jv{margin-top:1.56em}.kc{margin-top:40px}.ku{font-size:20px}.kv{margin-top:1.23em}.kw{letter-spacing:0}.lh{margin-top:0.67em}.lp{margin-top:1.34em}.lv{font-size:22px}.lw{margin-top:1.2em}.mu{margin-top:1.41em}.oz{margin-left:8px}.po{margin-top:2px}.pp{margin-right:16px}.qa{padding-left:6px}.qb{top:3px}.qm{display:inline-block}.qs{width:8px}.qz{padding-left:3px}.rp{font-size:16px}.rq{line-height:20px}.rr{max-height:20px}.sg{margin:0}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.x{display:flex}.ax{margin:0 64px}.gw{font-size:46px}.gx{margin-top:0.6em}.gy{line-height:56px}.gz{letter-spacing:-0.011em}.hq{font-size:22px}.hr{margin-top:0.92em}.hs{line-height:28px}.jm{font-size:21px}.jn{line-height:32px}.jo{letter-spacing:-0.003em}.jy{margin-top:2em}.kf{margin-top:56px}.lc{margin-top:1.72em}.ld{letter-spacing:0}.lk{margin-top:0.86em}.ls{margin-top:1.05em}.mc{font-size:30px}.md{margin-top:1.95em}.me{line-height:36px}.mx{margin-top:1.91em}.ry{font-size:20px}.rz{line-height:24px}.sa{max-height:24px}.sj{margin:0}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.y{display:flex}.aw{margin:0 48px}.gs{font-size:46px}.gt{margin-top:0.6em}.gu{line-height:56px}.gv{letter-spacing:-0.011em}.hn{font-size:22px}.ho{margin-top:0.92em}.hp{line-height:28px}.jj{font-size:21px}.jk{line-height:32px}.jl{letter-spacing:-0.003em}.jx{margin-top:2em}.ke{margin-top:56px}.la{margin-top:1.72em}.lb{letter-spacing:0}.lj{margin-top:0.86em}.lr{margin-top:1.05em}.lz{font-size:30px}.ma{margin-top:1.95em}.mb{line-height:36px}.mw{margin-top:1.91em}.rv{font-size:20px}.rw{line-height:24px}.rx{max-height:24px}.si{margin:0}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.av{margin:0 24px}.go{font-size:32px}.gp{margin-top:0.64em}.gq{line-height:40px}.gr{letter-spacing:-0.016em}.hk{font-size:18px}.hl{margin-top:0.79em}.hm{line-height:24px}.jh{line-height:28px}.ji{letter-spacing:-0.003em}.jw{margin-top:1.56em}.kd{margin-top:40px}.kx{font-size:20px}.ky{margin-top:1.23em}.kz{letter-spacing:0}.li{margin-top:0.67em}.lq{margin-top:1.34em}.lx{font-size:22px}.ly{margin-top:1.2em}.mv{margin-top:1.41em}.rs{font-size:16px}.rt{line-height:20px}.ru{max-height:20px}.sh{margin:0}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="print">.iw{display:none}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.fd{animation:k2 .2s ease-in-out both}.kh{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}.ob{transition:opacity 200ms}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (max-width: 1230px)">.oc{display:none}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="all and (max-width: 1240px)">.of{display:none}</style><style type="text/css" data-fela-rehydration="537" data-fela-type="RULE" media="(orientation: landscape) and (max-width: 903.98px)">.oq{max-height:none}</style></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><div class="s"><div class="t s u"><div class="ak al s am an"><div class="n ao ap"><div class="aq ar"><div class="as s at ac"><div class="n p"><div class="au av aw ax ay az ba v"><div class="bb n o"><div class="n o bc bd"><div class="be aq ar"><span class="bf b bg bh bi"><a href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F87ab6b256984&amp;~feature=LiOpenInAppButton&amp;~channel=ShowPostUnderCollection&amp;~stage=mobileNavBar&amp;source=post_page-----87ab6b256984--------------------------------" class="bj bk bl bm bn bo bp bq br bs bt bu bv bw bx" rel="noopener nofollow">Open in app</a></span></div></div><a href="https://medium.com/?source=post_page-----87ab6b256984--------------------------------" rel="noopener" aria-label="Homepage"><svg viewBox="0 0 1043.63 592.71" class="q bk"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div></div></div></div></div><div class="n p"><div class="au av aw ax ay az ba v"><div class="by n o bc bz ca cb cc cd ce"><div class="v n cf bz"><div class="n v"><div class="cg ch v n o bc ci cj ck cb cc cd"><div class="cl cm s cn"><a href="/?source=post_page-----87ab6b256984--------------------------------" rel="noopener" aria-label="Publication Homepage"><div class="co cp s"><img alt="Towards Data Science" class="" src="https://miro.medium.com/max/224/1*AGyTPCaRzVqL77kFwUwHKg.png" width="112" height="35"/></div></a></div></div></div><div class="w x y k h z ab o ac ae"><div class="cq cr cs n o"><div class="ct cu"><div class="n" aria-hidden="false" aria-describedby="publisherMenu" aria-labelledby="publisherMenu"><button aria-controls="publisherMenu" aria-expanded="false" aria-label="Publisher Menu" class="cw cx bl bm bn bo bp bq br bs"><div class="cy s"><svg class="cv bu" width="25" height="25"><path d="M5 12.5c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41A1.93 1.93 0 0 0 7 10.5c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41zm5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59-.39.39-.58.86-.58 1.41zm5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59.56 0 1.03-.2 1.42-.59.39-.39.58-.86.58-1.41 0-.55-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59-.39.39-.58.86-.58 1.41z" fill-rule="evenodd"></path></svg></div></button></div></div><div class="cz da s"><div class="ct cu"><div class="db" aria-hidden="false" aria-describedby="searchResults" aria-labelledby="searchResults"><div class="n"><button class="cw dm bl bm bn bo bp bq br bs dn do bv dp dq"><span class="cy s"><svg width="25" height="25" viewBox="0 0 25 25" class="cv"><path d="M20.07 18.93l-4.16-4.15a6 6 0 1 0-.88.88l4.15 4.16a.62.62 0 1 0 .89-.89zM6.5 11a4.75 4.75 0 1 1 9.5 0 4.75 4.75 0 0 1-9.5 0z"></path></svg></span></button><input role="combobox" aria-controls="searchResults" aria-expanded="false" aria-hidden="true" aria-label="search" tabindex="-1" class="dc dd de df bh dg dh bj di at dj dk dl" placeholder="Search" value=""/></div></div></div></div></div><a href="https://medium.com/?source=post_page-----87ab6b256984--------------------------------" rel="noopener" aria-label="Homepage"><svg viewBox="0 0 1043.63 592.71" class="q dr"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div></div></div></div></div></div><div class="s ar"><div class="n p"><div class="au av aw ax ay az ba v"><div class="af ag ah ai aj"><div class="ds dt n o"><div class="s du"><span class="bf b df dv dw dx dy dz ea eb ec ed ee"><div class="n o"><div class="ef s"><div class="eg eh s"></div></div><div class="cq ei ao"><a class="cw dm bl bm bn bo bp bq br bs ej ek bv el em" rel="noopener" href="/followers?source=post_page-----87ab6b256984--------------------------------">605K Followers</a></div><div class="en s g">·</div><div class="en s g"><nav class="n o"><span class="eo n ao"><a href="https://towardsdatascience.com/tagged/editors-pick?source=post_page-----87ab6b256984--------------------------------" class="cw dm bl bm bn bo bp bq br bs ej ek bv el em" rel="noopener">Editors&#x27; Picks</a></span><span class="eo n ao"><a href="https://towardsdatascience.com/tagged/tds-features?source=post_page-----87ab6b256984--------------------------------" class="cw dm bl bm bn bo bp bq br bs ej ek bv el em" rel="noopener">Features</a></span><span class="eo n ao"><a href="https://towardsdatascience.com/tagged/deep-dives?source=post_page-----87ab6b256984--------------------------------" class="cw dm bl bm bn bo bp bq br bs ej ek bv el em" rel="noopener">Deep Dives</a></span><span class="eo n ao"><a class="cw dm bl bm bn bo bp bq br bs ej ek bv el em" rel="noopener" href="/how-to-get-the-most-out-of-towards-data-science-3bf37f75a345?source=post_page-----87ab6b256984--------------------------------">Grow</a></span><span class="eo n ao"><a class="cw dm bl bm bn bo bp bq br bs ej ek bv el em" rel="noopener" href="/questions-96667b06af5?source=post_page-----87ab6b256984--------------------------------">Contribute</a></span></nav></div><div class="en n ao g"><a href="/about?source=post_page-----87ab6b256984--------------------------------" class="cw dm bl bm bn bo bp bq br bs ej ek bv el em" rel="noopener">About</a></div></div></span></div><div class="aq ep eq ar"><button class="n o p er es dj et" aria-label="Expand navbar"><svg width="14" height="14" class="eu"><path d="M0 .5h14M0 7h14M0 13.5h14"></path></svg></button></div></div></div></div></div></div></div><div class="ev ew ex as c ey dg ez fa fb fc ac fd"><div class="n p"><div class="au av aw ax ay az ba v"><div class="fe v aq fb ac cb ff"><div class="aq cb ff fg"><div class="be aq ar"><span class="bf b bg bh ee"><a href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F87ab6b256984&amp;~feature=LiOpenInAppButton&amp;~channel=ShowPostUnderCollection&amp;~stage=mobileNavBar&amp;source=post_page-----87ab6b256984--------------------------------" class="fh fi bl bm bn bo bp bq br bs fj fk bv bw bx" rel="noopener nofollow">Open in app</a></span></div></div><a href="https://medium.com/?source=post_page-----87ab6b256984--------------------------------" rel="noopener" aria-label="Homepage"><svg viewBox="0 0 1043.63 592.71" class="q r"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div></div></div></div></div><article class="meteredContent"><section class="fl fm fn fo v fp fq s"><div></div></section><span class="s"></span><div><div class="ep ey fx fy fz ga"></div><section class="gb gc gd eb ge"><div class="n p"><div class="au av aw ax ay gf ba v"><div class=""><h1 id="36dc" class="gg gh gi bf gj gk gl gm gn go gp gq gr gs gt gu gv gw gx gy gz ha hb hc hd he hf">How Japanese Tokenizers Work</h1></div><div class=""><h2 id="56da" class="hg gh gi bf b hh hi hj hk hl hm hn ho hp hq hr hs ht hu hv hw ee">A deep dive into Japanese tokenization and its components (Dictionary, Lattice, Viterbi algorithm, etc) by open-source library examples</h2><div class="cl"><div class="n bz hx hy hz"><div class="o n"><div><a href="https://medium.com/@wanasit?source=post_page-----87ab6b256984--------------------------------" rel="noopener"><div class="at ia ib"><div class="ic n bc o p ep id ie if ig ih ga"><svg width="36" height="36" viewBox="0 0 36 36"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 1.87c-6.63 0-12.4 4.14-15.21 10.21L2 11.71C4.94 5.37 11 1 18 1s13.06 4.37 16 10.71l-.79.37C30.4 6.01 24.63 1.88 18 1.88zM2.79 23.92c2.81 6.07 8.58 10.2 15.21 10.2 6.63 0 12.4-4.13 15.21-10.2l.79.37C31.06 30.63 25 35 18 35S4.94 30.63 2 24.29l.79-.37z"></path></svg></div><img alt="Wanasit Tanakitrungruang" class="s ii ib ia" src="https://miro.medium.com/fit/c/56/56/0*yBv-xYnJJ-P0tVZx." width="28" height="28"/></div></a></div><div class="en v n ci"><div class="n"><div style="flex:1"><span class="bf b bg bh hf"><a href="https://medium.com/@wanasit?source=post_page-----87ab6b256984--------------------------------" class="" rel="noopener"><p class="bf b bg bh fh">Wanasit Tanakitrungruang</p></a></span></div></div><span class="bf b bg bh ee"><a class="" rel="noopener" href="/how-japanese-tokenizers-work-87ab6b256984?source=post_page-----87ab6b256984--------------------------------"><p class="bf b bg bh ee"><span class="im"></span>Sep 6, 2020<span class="in">·</span>8 min read<svg class="ij ik il" width="15" height="15" viewBox="0 0 15 15" aria-label="Member only content"><path d="M7.44 2.32c.03-.1.09-.1.12 0l1.2 3.53a.29.29 0 0 0 .26.2h3.88c.11 0 .13.04.04.1L9.8 8.33a.27.27 0 0 0-.1.29l1.2 3.53c.03.1-.01.13-.1.07l-3.14-2.18a.3.3 0 0 0-.32 0L4.2 12.22c-.1.06-.14.03-.1-.07l1.2-3.53a.27.27 0 0 0-.1-.3L2.06 6.16c-.1-.06-.07-.12.03-.12h3.89a.29.29 0 0 0 .26-.19l1.2-3.52z"></path></svg></p></a></span></div></div><div class="n io ip iq ir is it iu iv iw"><div class="n o"><div class="ix s"><div class="db" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="db" role="tooltip" aria-hidden="false"><button class="cw dm bl bm bn bo bp bq br bs ej ek bv el em" aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post"><svg width="25" height="25" class="r"><g fill-rule="evenodd"><path d="M15.6 5a.42.42 0 0 0 .17-.3.42.42 0 0 0-.12-.33l-2.8-2.79a.5.5 0 0 0-.7 0l-2.8 2.8a.4.4 0 0 0-.1.32c0 .12.07.23.16.3h.02a.45.45 0 0 0 .57-.04l2-2V10c0 .28.23.5.5.5s.5-.22.5-.5V2.93l2.02 2.02c.08.07.18.12.3.13.11.01.21-.02.3-.08v.01"></path><path d="M18 7h-1.5a.5.5 0 0 0 0 1h1.6c.5 0 .9.4.9.9v10.2c0 .5-.4.9-.9.9H6.9a.9.9 0 0 1-.9-.9V8.9c0-.5.4-.9.9-.9h1.6a.5.5 0 0 0 .35-.15A.5.5 0 0 0 9 7.5a.5.5 0 0 0-.15-.35A.5.5 0 0 0 8.5 7H7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"></path></g></svg></button></div></div></div></div><div class="iy s"><div><div class="ij"><div><div class="db" role="tooltip" aria-hidden="false"><button class="cw dm bl bm bn bo bp bq br bs ej ek bv el em" aria-label="Bookmark Post"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></button></div></div></div></div></div><div class="s bd"><div class="db" aria-hidden="false" aria-describedby="creatorActionOverflowMenu" aria-labelledby="creatorActionOverflowMenu"><div class="db" aria-hidden="false" aria-describedby="removeFromPublicationPopover" aria-labelledby="removeFromPublicationPopover"><div class="iz s z"><button class="cw dm bl bm bn bo bp bq br bs ej ek bv el em" aria-controls="creatorActionOverflowMenu" aria-expanded="false" aria-label="More options"><svg class="r ja jb" width="25" height="25"><path d="M5 12.5c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41A1.93 1.93 0 0 0 7 10.5c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41zm5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59-.39.39-.58.86-.58 1.41zm5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59.56 0 1.03-.2 1.42-.59.39-.39.58-.86.58-1.41 0-.55-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59-.39.39-.58.86-.58 1.41z" fill-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></div></div><p id="b8b4" class="jc jd gi je b hh jf jg hk jh ji jj jk jl jm jn jo jp jq jr js jt gb hf">I recently have been working on <a href="https://github.com/wanasit/kotori" class="cw ju" rel="noopener nofollow">Kotori</a> and doing research on Japanese NLP tools. I’m writing this article to share what I have learned so far about Japanese tokenization and its components.</p><p id="12e4" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf"><em class="ka">If you haven’t heard of it, </em><a href="https://github.com/wanasit/kotori" class="cw ju" rel="noopener nofollow"><em class="ka">Kotori is a Japanese tokenizer and morphological analysis engine written in Kotlin</em></a><em class="ka">. Please check Kotori on Github and give it some stars if you like this article.</em></p></div></div><div class="kb v"><figure class="kc kd ke kf kg kb v paragraph-image"><div role="button" tabindex="0" class="kh ki at kj v kk"><img alt="" class="v kl km" src="https://miro.medium.com/max/9344/0*Hv1K60BZzfwAWdXZ" width="4672" height="3104" role="presentation"/></div><figcaption class="kn ko fp fn fo kp kq bf b bg bh ee">Photo by <a href="https://unsplash.com/@hiro7jp?utm_source=medium&amp;utm_medium=referral" class="cw ju" rel="noopener nofollow">Hiroshi Tsubono</a> on <a href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" class="cw ju" rel="noopener nofollow">Unsplash</a></figcaption></figure></div><div class="n p"><div class="au av aw ax ay gf ba v"><h2 id="17da" class="kr ks gi bf kt ku kv hj kw kx ky hm kz hn la hp lb hq lc hs ld ht le hv lf lg hf">Japanese Tokenizers</h2><p id="176f" class="jc jd gi je b hh lh jf jg hk li jh ji jj lj jk jl jm lk jn jo jp ll jq jr jt gb hf">Tokenization, or breaking a text in<span id="rmm"><span id="rmm">t</span></span>o a list of words, is an important step before other NLP tasks (e.g. text classification). In English, words are often separated by whitespace or other symbols, which make it easier to tokenize. However, in Japanese, words are normally written without any space between. Japanese tokenization requires reading/analyzing the whole sentence, recognizing words, and determining word boundaries without any explicit delimiters.</p><p id="eff3" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">Most Japanese tokenizers use <strong class="je gj"><em class="ka">Lattice-based</em> tokenization</strong>. As the name suggested, a lattice-based tokenizer builds a <em class="ka">lattice</em> (or a graph-like data structure) consisting of all possible tokens (terms or substrings) that surface on the input text. It uses the <strong class="je gj"><em class="ka">Viterbi</em> </strong>algorithm to find the best connected-path through the lattice.</p><p id="ff74" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">The most popular lattice-based tokenizer is <a href="https://taku910.github.io/mecab/" class="cw ju" rel="noopener nofollow">MeCab</a> (written in C++). Most open-source Japanese tokenizer libraries are either simply MeCab’s wrapper or re-implementation of Lattice-based tokenization in different platforms.</p><p id="468a" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">For examples:</p><ul class=""><li id="1d92" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt lm ln lo hf"><a href="https://github.com/wanasit/kotori" class="cw ju" rel="noopener nofollow">Kotori</a> in <em class="ka">Kotlin</em></li><li id="b1c4" class="jc jd gi je b hh lp jf jg hk lq jh ji jj lr jk jl jm ls jn jo jp lt jq jr jt lm ln lo hf"><a href="https://github.com/WorksApplications/Sudachi" class="cw ju" rel="noopener nofollow">Sudachi</a> and <a href="https://github.com/atilika/kuromoji" class="cw ju" rel="noopener nofollow">Kuromoji</a> in <em class="ka">Java</em></li><li id="9782" class="jc jd gi je b hh lp jf jg hk lq jh ji jj lr jk jl jm ls jn jo jp lt jq jr jt lm ln lo hf"><a href="https://mocobeta.github.io/janome/en/" class="cw ju" rel="noopener nofollow">Janome</a> and <a href="https://github.com/WorksApplications/SudachiPy" class="cw ju" rel="noopener nofollow">SudachiPy</a> in <em class="ka">Python</em></li><li id="e924" class="jc jd gi je b hh lp jf jg hk lq jh ji jj lr jk jl jm ls jn jo jp lt jq jr jt lm ln lo hf"><a href="https://github.com/ikawaha/kagome" class="cw ju" rel="noopener nofollow">Kagome</a> in <em class="ka">Go</em>.</li></ul><p id="867a" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf"><a href="https://taku910.github.io/mecab/#download" class="cw ju" rel="noopener nofollow">MeCab’s IPA dictionary</a> (IPADIC) is also the most popular dictionary. It is used as a baseline or primary dictionary for most tokenizers.</p><p id="b997" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">In this article, I’ll explain in detail how the Lattice-based dictionary and tokenization works through a simplified version of Kotori’s code and MeCab’s references.</p><h1 id="49f1" class="lu ks gi bf kt lv lw jf kw lx ly jh kz lz ma mb lb mc md me ld mf mg mh lf mi hf">Dictionary</h1><p id="f59d" class="jc jd gi je b hh lh jf jg hk li jh ji jj lj jk jl jm lk jn jo jp ll jq jr jt gb hf">For Lattice-based tokenizers, a <em class="ka">dictionary</em> is an object or a data structure that provides information about available <em class="ka">terms</em> as well as how those terms should appear next to each other according to Japanese grammar or the probability.</p><p id="deec" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">Although different tokenizer libraries use different in-memory data structures and read different dictionary file formats, all Lattice-based tokenizer dictionaries share mostly the same interface or logical structure.</p><p id="a6e1" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">In this article, we will look into <a href="http://taku910.github.io/mecab/dic.html" class="cw ju" rel="noopener nofollow">MeCab’s dictionary format</a>. Specifically, MeCab’s IPADIC, which you can download <a href="https://drive.google.com/uc?export=download&amp;id=0B4y35FiV1wh7MWVlSDBCSXZMTXM" class="cw ju" rel="noopener nofollow">here</a> (to see the content and compare with the note for yourself).</p><p id="df48" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">A tokenizer dictionary consists of two important parts:</p><h2 id="b48e" class="kr ks gi bf kt ku kv hj kw kx ky hm kz hn la hp lb hq lc hs ld ht le hv lf lg hf"><strong class="bp">Term-Dictionary</strong></h2><p id="fb0a" class="jc jd gi je b hh lh jf jg hk li jh ji jj lj jk jl jm lk jn jo jp ll jq jr jt gb hf">Term-Dictionary (単語辞書 or <em class="ka">Lexicon</em>) is a list of known terms (or words). In MeCab’s dictionary directory, <strong class="je gj">all CSV files</strong> together make up this term dictionary part.</p><p id="cb58" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">For example, in <em class="ka">Noun.place.csv</em>, you can find rows such as:</p><pre class="kc kd ke kf kg mj mk ml"><span id="dacd" class="hf kr ks gi mm b df mn mo s mp"><strong class="mm gj">東京,1293,1293,3003</strong>,名詞,固有名詞,地域,一般,*,*,東京,トウキョウ,トーキョー<br/><br/><strong class="mm gj">京都,1293,1293,2135</strong>,名詞,固有名詞,地域,一般,*,*,京都,キョウト,キョート<br/><br/><strong class="mm gj">札幌,1293,1293,3440</strong>,名詞,固有名詞,地域,一般,*,*,札幌,サッポロ,サッポロ<br/><br/><strong class="mm gj">渋谷,1293,1293,4310</strong>,名詞,固有名詞,地域,一般,*,*,渋谷,シブヤ,シブヤ</span></pre><p id="ea66" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">Each <em class="ka">term</em> (or <em class="ka">row</em>) consists of multiple <em class="ka">columns</em> (or <em class="ka">fields</em>), but only <strong class="je gj">the first four columns</strong> are important to the tokenization.</p><ul class=""><li id="f938" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt lm ln lo hf"><strong class="je gj">Surface Form</strong> (表層形): The string or term that should appear in the text.</li><li id="2ac0" class="jc jd gi je b hh lp jf jg hk lq jh ji jj lr jk jl jm ls jn jo jp lt jq jr jt lm ln lo hf"><strong class="je gj">Left/Right Context ID</strong> (左/右-文脈ID): This is used for determining connection cost or how likely it is for a term to follow other terms.</li><li id="c2b5" class="jc jd gi je b hh lp jf jg hk lq jh ji jj lr jk jl jm ls jn jo jp lt jq jr jt lm ln lo hf"><strong class="je gj">Cost</strong>: The cost of having this term. The cost depends on how likely it is for the term to be used. The higher the cost, the less frequently used or rarer is the term.</li></ul><p id="bd62" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">The remaining columns are additional features about the terms (e.g. <em class="ka">part-of-speech</em>, <em class="ka">normalized form</em>, <em class="ka">pronunciation</em>, …, etc)</p><p id="df59" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">Notes:</p><ul class=""><li id="6d11" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt lm ln lo hf">A term-dictionary in practice is large and comprehensive. It often contains hundreds of thousands of terms (e.g. around 290,000 terms in IPADIC)</li><li id="a913" class="jc jd gi je b hh lp jf jg hk lq jh ji jj lr jk jl jm ls jn jo jp lt jq jr jt lm ln lo hf">Please don’t confuse <em class="ka">Dictionary</em> (辞書) with <em class="ka">Term-Dictionary (</em>単語辞書<em class="ka">)</em>. Throughout this article, I will use the <em class="ka">term-dictionary</em> to mean the table of terms part, while the <em class="ka">dictionary</em> would refer to the whole (term-dictionary + connection cost + others).</li></ul><h2 id="7fa2" class="kr ks gi bf kt ku kv hj kw kx ky hm kz hn la hp lb hq lc hs ld ht le hv lf lg hf">Connection Cost</h2><p id="1805" class="jc jd gi je b hh lh jf jg hk li jh ji jj lj jk jl jm lk jn jo jp ll jq jr jt gb hf">Connection Cost (連接コース) is a cost structure to measure how likely it is for a term to be before or after one another.</p><p id="1ed2" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">The connection likelihood is explained as a cost of connecting <strong class="je gj">the right context ID </strong>of the previous word with <strong class="je gj">the left context ID </strong>of the following word.</p><pre class="kc kd ke kf kg mj mk ml"><span id="ee61" class="hf kr ks gi mm b df mn mo s mp">(Prev term&#x27;s rightID, Next term&#x27;s leftID) -&gt; Cost</span></pre><p id="4025" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">Similar to the term’s cost, the higher the connection cost, the less likely the given terms should be connected.</p><p id="37c8" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">This mapping is <code class="mq mr ms mt mm b">matrix.def</code> file in MeCab’s dictionary. The file structure is pretty straight-forward. The first line is the number of possible rigthIDs and leftIDs (both are 1316 in the example) follow by the list of <strong class="je gj">(rightID, leftID, cost) </strong>tuples.</p><pre class="kc kd ke kf kg mj mk ml"><span id="23b7" class="hf kr ks gi mm b df mn mo s mp">1316 1316<br/>0 0 -434<br/>0 1 1<br/>0 2 -1630<br/>0 3 -1671</span><span id="a8fb" class="hf kr ks gi mm b df mu mv mw mx my mo s mp">...</span><span id="8c2d" class="hf kr ks gi mm b df mu mv mw mx my mo s mp">1315 1313 -4369<br/>1315 1314 -1712<br/>1315 1315 -129</span></pre><h2 id="0697" class="kr ks gi bf kt ku kv hj kw kx ky hm kz hn la hp lb hq lc hs ld ht le hv lf lg hf">Unknown Terms Handling</h2><p id="7d08" class="jc jd gi je b hh lh jf jg hk li jh ji jj lj jk jl jm lk jn jo jp ll jq jr jt gb hf">In addition to <em class="ka">Term-Dictionary</em> and <em class="ka">Connection Cost</em>, another dictionary component that is crucial to tokenization in practice is an <em class="ka">unknown term</em> (or <em class="ka">out-of-vocabulary</em>) handling strategy. It is for recognizing some words, substrings, or symbols outside of term-dictionary (e.g. people names) and allows tokenizers to skip or tokenize them.</p><p id="1ce3" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">In MeCab, unknown term handling is done by heuristic rules based-on character types (e.g. consecutive Katakana characters is probably a noun). The rules and character types are defined in <code class="mq mr ms mt mm b">unk.def</code> and <code class="mq mr ms mt mm b">char.def</code> files.</p><p id="bdf7" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">In this article, I am leaving the details of unknown word handling and <strong class="je gj">assume that term-dictionary includes every term</strong> in the text.</p><h1 id="c678" class="lu ks gi bf kt lv lw jf kw lx ly jh kz lz ma mb lb mc md me ld mf mg mh lf mi hf">Lattice-based Tokenization</h1><p id="970d" class="jc jd gi je b hh lh jf jg hk li jh ji jj lj jk jl jm lk jn jo jp ll jq jr jt gb hf">As mentioned, Lattice-based tokenization is building a lattice of terms and find the best path through the lattice.</p><p id="98e8" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">Given the dictionary, the tokenizer identifies all terms that “surface” on the text as sub-string, add all of them into the lattice together with their substring starting/ending location, then runs the algorithm to find the best path of connected terms.</p><p id="0f15" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">The simplified code would look like this:</p><pre class="kc kd ke kf kg mj mk ml"><span id="30c0" class="hf kr ks gi mm b df mn mo s mp">val lattice = Lattice.create()</span><span id="3738" class="hf kr ks gi mm b df mu mv mw mx my mo s mp">for i in 0..text.length {</span><span id="3a5b" class="hf kr ks gi mm b df mu mv mw mx my mo s mp">    val terms = <strong class="mm gj">findAllTermStartingAt</strong>(text, i)</span><span id="3d9c" class="hf kr ks gi mm b df mu mv mw mx my mo s mp">    for term in terms {</span><span id="3430" class="hf kr ks gi mm b df mu mv mw mx my mo s mp">        lattice.add(term, startIndex=i, endIndex=i+term.length)</span><span id="711d" class="hf kr ks gi mm b df mu mv mw mx my mo s mp">    }<br/>    ...<br/>}<br/>...</span><span id="cb1f" class="hf kr ks gi mm b df mu mv mw mx my mo s mp">return lattice.findTheBestPath()</span></pre><p id="c446" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">In the example code, we use <code class="mq mr ms mt mm b">findAllTermStartingAt(..)</code> to find all terms in the dictionary having surface form starting at the location.</p><p id="072c" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">For example, if <code class="mq mr ms mt mm b">text=&quot;東京都に住む&quot;</code>:</p><ul class=""><li id="67ca" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt lm ln lo hf"><code class="mq mr ms mt mm b">findAllTermStartingAt(text, 0)</code> should return 東 (East), 東京 (Tokyo)</li><li id="0b6d" class="jc jd gi je b hh lp jf jg hk lq jh ji jj lr jk jl jm ls jn jo jp lt jq jr jt lm ln lo hf"><code class="mq mr ms mt mm b">findAllTermStartingAt(text, 1)</code> should return 京 (Capital), 京都 (Kyoto)</li><li id="dc22" class="jc jd gi je b hh lp jf jg hk lq jh ji jj lr jk jl jm ls jn jo jp lt jq jr jt lm ln lo hf">…</li></ul><figure class="kc kd ke kf kg kb fn fo paragraph-image"><div role="button" tabindex="0" class="kh ki at kj v kk"><div class="fn fo mz"><div class="nf s at mq"><div class="ng nh s"><div class="dg na ep fb ey nb v nc nd ne"><img alt="" class="ep fb ey nb v ni nj ae" src="https://miro.medium.com/max/60/1*EV33nzmD8vUIDaGr5LMqhQ.png?q=20" width="1110" height="324" role="presentation"/></div><img alt="" class="dg na ep fb ey nb v c" width="1110" height="324" role="presentation"/><noscript><img alt="" class="ep fb ey nb v" src="https://miro.medium.com/max/2220/1*EV33nzmD8vUIDaGr5LMqhQ.png" width="1110" height="324" srcSet="https://miro.medium.com/max/552/1*EV33nzmD8vUIDaGr5LMqhQ.png 276w, https://miro.medium.com/max/1104/1*EV33nzmD8vUIDaGr5LMqhQ.png 552w, https://miro.medium.com/max/1280/1*EV33nzmD8vUIDaGr5LMqhQ.png 640w, https://miro.medium.com/max/1400/1*EV33nzmD8vUIDaGr5LMqhQ.png 700w" sizes="700px" role="presentation"/></noscript></div></div></div></div><figcaption class="kn ko fp fn fo kp kq bf b bg bh ee"><em class="nk">Image by author</em></figcaption></figure><p id="50c4" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">Note:</p><ul class=""><li id="0ed6" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt lm ln lo hf">Having a fast <code class="mq mr ms mt mm b">findAllTermStartingAt(..)</code> is very important to the tokenizer performance. Thus, the function is often implemented by efficient string matching/lookup data structure, e.g. <em class="ka">Trie</em> or <em class="ka">Finite-State Transducer (FST)</em>. I’m leaving the implementation details of those data structures for future articles.</li><li id="60d7" class="jc jd gi je b hh lp jf jg hk lq jh ji jj lr jk jl jm ls jn jo jp lt jq jr jt lm ln lo hf">In the shown version, we identify possible terms and save all of them in memory before running the algorithm to finding the best path once at the end. There are tokenizers that use a greedy or window-based approach to actively prune out unnecessary terms to keep memory usage low. Kotori uses the shown approach because I found it is more efficient (aka. faster) and memory usage has never been a problem in practice.</li></ul><p id="b633" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">The <code class="mq mr ms mt mm b">Lattice</code> is a graph structure containing all surfaced terms as <em class="ka">nodes</em>. The edges of the graph connect nodes (or terms) starting at each location with nodes ending at the same location.</p><p id="f3fa" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">For example, 東 (ending at index=1) connected to 京 and 京都 (starting at index=1).</p><figure class="kc kd ke kf kg kb fn fo paragraph-image"><div class="fn fo nl"><div class="nf s at mq"><div class="nm nh s"><div class="dg na ep fb ey nb v nc nd ne"><img alt="" class="ep fb ey nb v ni nj ae" src="https://miro.medium.com/max/60/1*FWQSUFaQpWIezoO1ELjv2A.png?q=20" width="565" height="476" role="presentation"/></div><img alt="" class="dg na ep fb ey nb v c" width="565" height="476" role="presentation"/><noscript><img alt="" class="ep fb ey nb v" src="https://miro.medium.com/max/1130/1*FWQSUFaQpWIezoO1ELjv2A.png" width="565" height="476" srcSet="https://miro.medium.com/max/552/1*FWQSUFaQpWIezoO1ELjv2A.png 276w, https://miro.medium.com/max/1104/1*FWQSUFaQpWIezoO1ELjv2A.png 552w, https://miro.medium.com/max/1130/1*FWQSUFaQpWIezoO1ELjv2A.png 565w" sizes="565px" role="presentation"/></noscript></div></div></div><figcaption class="kn ko fp fn fo kp kq bf b bg bh ee"><em class="nk">Image by author</em></figcaption></figure><p id="8f23" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">Each node and connection will have a cost associate with it:</p><ul class=""><li id="db1a" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt lm ln lo hf"><strong class="je gj">The cost of a node</strong> (orange-colored) is its <strong class="je gj">term’s cost</strong> (as defined in <em class="ka">term-dictionary</em>)</li><li id="09ce" class="jc jd gi je b hh lp jf jg hk lq jh ji jj lr jk jl jm ls jn jo jp lt jq jr jt lm ln lo hf"><strong class="je gj">The cost of a connection</strong> (red-colored) is its connection cost between the ending term’s <strong class="je gj">right context ID</strong> and the starting term’s <strong class="je gj">left context ID</strong> (as defined in <em class="ka">connection-cost</em>).</li></ul><p id="2b2b" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">Note from the example that, in addition to the nodes from surfaced terms, we need to include two special nodes into the lattice.</p><ul class=""><li id="97ae" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt lm ln lo hf">A special <em class="ka">Start</em> node <code class="mq mr ms mt mm b">index=0, rightID=0, cost=0</code></li><li id="9549" class="jc jd gi je b hh lp jf jg hk lq jh ji jj lr jk jl jm ls jn jo jp lt jq jr jt lm ln lo hf">A special <em class="ka">End</em> node <code class="mq mr ms mt mm b">index=text.length, leftID=0, cost=0</code></li></ul><p id="3cc6" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">Both term and connection costs represent how commonly used they are. The lower the cost the more likely the terms and connections. Thus, the tokenizer&#x27;s goal is to find <strong class="je gj">the minimal cost path</strong> (or the ‘best’ path) from start to end. Doing so will result in the token sequence that is the most likely in Japanese.</p><h2 id="5189" class="kr ks gi bf kt ku kv hj kw kx ky hm kz hn la hp lb hq lc hs ld ht le hv lf lg hf"><strong class="bp">Viterbi Algorithm</strong></h2><p id="7e02" class="jc jd gi je b hh lh jf jg hk li jh ji jj lj jk jl jm lk jn jo jp ll jq jr jt gb hf">Viterbi Algorithm is an algorithm to find the <em class="ka">optimal path</em> (or <em class="ka">most likely path</em>, or <em class="ka">minimal cost path</em>, etc) through the graph. Most Viterbi algorithm examples come from its application with <em class="ka">Hidden Markov Model</em> (e.g. <em class="ka">POS tagging</em>). However, I found the Viterbi algorithm usage in tokenization is very different.</p><p id="b02a" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">My explanation of the Viterbi Algorithm for Lattice-based tokenization application is as follows:</p><blockquote class="nn no np"><p id="606e" class="jc jd ka je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">To find the minimal path from start to <em class="gi">tᵗʰ </em>node, we need to consider paths through each <em class="gi">(t-1)ᵗʰ</em> node leading to <em class="gi">tᵗʰ </em>node by calculating each path’s total cost and pick the minimal path among them.</p></blockquote><p id="5df4" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">For each <em class="ka">(t-1)ᵗʰ</em> node leading to <em class="ka">tᵗʰ</em> node:</p><ul class=""><li id="cfbe" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt lm ln lo hf">(Recursively) Find the minimal cost/path from <em class="ka">start</em> to that <em class="ka">(t-1)ᵗʰ</em> node.</li><li id="b5d7" class="jc jd gi je b hh lp jf jg hk lq jh ji jj lr jk jl jm ls jn jo jp lt jq jr jt lm ln lo hf">Find the cost of connecting that <em class="ka">(t-1)ᵗʰ</em> node to <em class="ka">tᵗʰ</em> node</li><li id="6f45" class="jc jd gi je b hh lp jf jg hk lq jh ji jj lr jk jl jm ls jn jo jp lt jq jr jt lm ln lo hf">Find the cost of <em class="ka">tᵗʰ</em> node itself</li><li id="02ee" class="jc jd gi je b hh lp jf jg hk lq jh ji jj lr jk jl jm ls jn jo jp lt jq jr jt lm ln lo hf">Adding them all together. This is the <strong class="je gj">total cost from <em class="ka">start</em> to <em class="ka">tᵗʰ</em> node through the <em class="ka">(t-1)ᵗʰ</em> node</strong></li></ul><p id="c84b" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">Then, among the paths through different <em class="ka">(t-1)ᵗʰ</em> nodes to <em class="ka">tᵗʰ</em> node, pick the path with the minimal total cost.</p><p id="b92a" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">An efficient way to implement this algorithm is <strong class="je gj">dynamic programming</strong>. We can start finding the minimal path from the nodes closet to the start and reuse their minimal path to the nodes following them. Keep repeating until we calculate the minimal path for each node.</p><pre class="kc kd ke kf kg mj mk ml"><span id="7e17" class="hf kr ks gi mm b df mn mo s mp">for i in 0..text.length {</span><span id="9473" class="hf kr ks gi mm b df mu mv mw mx my mo s mp">  for node in nodes.startingAt(i) {</span><span id="658a" class="hf kr ks gi mm b df mu mv mw mx my mo s mp">    for prevNode in nodes.endingAt(i) {</span><span id="a6df" class="hf kr ks gi mm b df mu mv mw mx my mo s mp">      val prevTotalCost = prevNode.totalCost<br/>      val termCost = node.cost<br/>      val connectionCost = getConnectionCost(prevNode.rightId, node.leftId)</span><span id="fa3b" class="hf kr ks gi mm b df mu mv mw mx my mo s mp">      val totalCost = prevTotalCost + connectionCost + termCost<br/>      <br/>      if (totalCost &lt; node.totalCost) {<br/>         <br/>        node.totalCost = totalCost<br/>        node.prevNode = prevNode</span><span id="6870" class="hf kr ks gi mm b df mu mv mw mx my mo s mp">      }<br/>    }<br/>  }<br/>}</span></pre><p id="f953" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">After executing the algorithm, the minimal path from <em class="ka">Start</em> to <em class="ka">End</em> can be found that the <em class="ka">End</em> node. We simply need to follow the <code class="mq mr ms mt mm b">prevNode</code> pointer back to the <em class="ka">Start</em> node.</p></div></div></section><div class="n p cl nq nr ns" role="separator"><span class="nt ii db nu nv nw"></span><span class="nt ii db nu nv nw"></span><span class="nt ii db nu nv"></span></div><section class="gb gc gd eb ge"><div class="n p"><div class="au av aw ax ay gf ba v"><p id="bb14" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">This article summarizes the knowledge I learned from building a Japanese tokenizer from scratch. Again, if you like this article or what to learn more about Japanese tokenization, please checkout <a href="https://github.com/wanasit/kotori" class="cw ju" rel="noopener nofollow">Kotori on Github</a>.</p><p id="d998" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">Note: Kotori has been heavily influenced by other open-source libraries. Special thanks to <a href="https://www.atilika.org/" class="cw ju" rel="noopener nofollow">Atilika</a> (Kuromoji), <a href="https://github.com/WorksApplications" class="cw ju" rel="noopener nofollow">WorkApplicaitons</a> (Sudachi), and <a href="https://github.com/mocobeta" class="cw ju" rel="noopener nofollow">Tomoko Uchida</a> (Janome).</p><p id="946f" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt gb hf">Other resources (in Japanese):</p><ul class=""><li id="d56e" class="jc jd gi je b hh jv jf jg hk jw jh ji jj jx jk jl jm jy jn jo jp jz jq jr jt lm ln lo hf">Manabu Okumura, 自然言語処理の基礎 (book)</li><li id="64fb" class="jc jd gi je b hh lp jf jg hk lq jh ji jj lr jk jl jm ls jn jo jp lt jq jr jt lm ln lo hf">Cookpad Developers’ Blog, <a href="https://techlife.cookpad.com/entry/2016/05/11/170000" class="cw ju" rel="noopener nofollow">日本語形態素解析の裏側を覗く！MeCab はどのように形態素解析しているか</a></li></ul></div></div></section></div></article><div class="dg ga ez od v oe fb ob of" data-test-id="post-sidebar"><div class="n p"><div class="au av aw ax ay az ba v"><div class="og n ao"><div class="ga"><div><div class="oh s"><div class="oi s"><a href="https://medium.com/@wanasit?source=post_sidebar--------------------------post_sidebar-----------" class="cw dm bl bm bn bo bp bq br bs ej ek bv el em" rel="noopener"><h2 class="bf kt df bh gh hf gb">Wanasit Tanakitrungruang</h2></a></div><div class="oj s"><p class="bf b bg bh ee">A software engineer interested in NLP, Search, and text-related problems. Currently working @Indeed (Tokyo) as an Engineering Manager on Search Quality.</p></div></div><div class="os ot n bc ou"><div class="ov ow ox oy n"><div class="n o"><div class="s at oz pa pb pc pd"><div class=""><div><div class="db" role="tooltip" aria-hidden="false"><div class="bq pe pf pg ph pi pj pk r pl pm pn"><svg width="29" height="29" aria-label="clap"><g fill-rule="evenodd"><path d="M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z"></path><path d="M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z"></path></g></svg></div></div></div></div></div><div class="s po pp pq pr ps pt pu"><div class="pv"><p class="bf b bg bh ee"><button class="cw dm bl bm bn bo bp bq br bs ej ek bv el em">95<!-- --> </button></p></div></div></div></div><div class="ov pw s"><button class="et pf bq"><div class="pz n o bc"><svg width="25" height="25" class="r px et py" aria-label="responses"><path d="M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z" fill-rule="evenodd"></path></svg><div class="s at qa qb qc qd qe qf qg qh"></div></div></button></div><div><div class="ij"><div><div class="db" role="tooltip" aria-hidden="false"><button class="cw dm bl bm bn bo bp bq br bs ej ek bv el em" aria-label="Bookmark Post"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></div></div></div></div><div class="dg ga nx ez ny ig nz oa ob oc"></div><div><div class="qi kb n ao p"><div class="n p"><div class="au av aw ax ay gf ba v"><div class="n ci"></div><div class="n o ci"></div><div class="qj qk s"><div class="qk n bz iw"><div class="n o bc"><div class="ql s"><span class="s qm qn qo e d"><div class="n o"><div class="s at oz pa pb pc pd"><div class=""><div><div class="db" role="tooltip" aria-hidden="false"><div class="bq pe pf pg ph pi pj pk r pl pm pn"><svg width="25" height="25" aria-label="clap"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM16.63 1.22L15.2.75l-.4 3.03zM9.79.75l-1.43.47 1.84 2.56zM22.47 13.3L19.45 8c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M12.58 9.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z"></path><path d="M15.81 9.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.72.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L7.2 6.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L3.8 7.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L2.58 14.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z"></path></g></svg></div></div></div></div></div><div class="s po pp pq pr ps pt pu"><div class="at qp pv"><p class="bf b bg bh hf"><button class="cw dm bl bm bn bo bp bq br bs ej ek bv el em">95<span class="s h g f qq qr"> </span></button><span class="s h g f qq qr"></span></p></div></div></div></span><span class="s h g f qq qr"><div class="n o"><div class="s at oz pa pb pc pd"><div class=""><div><div class="db" role="tooltip" aria-hidden="false"><div class="bq pe pf pg ph pi pj pk r pl pm pn"><svg width="25" height="25" aria-label="clap"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM16.63 1.22L15.2.75l-.4 3.03zM9.79.75l-1.43.47 1.84 2.56zM22.47 13.3L19.45 8c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M12.58 9.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z"></path><path d="M15.81 9.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.72.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L7.2 6.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L3.8 7.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L2.58 14.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z"></path></g></svg></div></div></div></div></div><div class="s po pp pq pr ps pt pu"><div class="pv"><p class="bf b bg bh hf"><button class="cw dm bl bm bn bo bp bq br bs ej ek bv el em">95<!-- --> </button></p></div></div></div></span></div><div class="s qs qt qu qv qw"></div><button class="et pf bq"><div class="pz n o bc"><span class="qx s qy"><svg width="25" height="25" class="r px et py" aria-label="responses"><path d="M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z" fill-rule="evenodd"></path></svg></span><div class="s at qz qb ra qd rb qf rc rd re rf"></div></div></button></div><div class="n o"><div class="ix s"><div class="db" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="db" role="tooltip" aria-hidden="false"><button class="cw dm bl bm bn bo bp bq br bs ej ek bv el em" aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post"><svg width="25" height="25" class="r"><g fill-rule="evenodd"><path d="M15.6 5a.42.42 0 0 0 .17-.3.42.42 0 0 0-.12-.33l-2.8-2.79a.5.5 0 0 0-.7 0l-2.8 2.8a.4.4 0 0 0-.1.32c0 .12.07.23.16.3h.02a.45.45 0 0 0 .57-.04l2-2V10c0 .28.23.5.5.5s.5-.22.5-.5V2.93l2.02 2.02c.08.07.18.12.3.13.11.01.21-.02.3-.08v.01"></path><path d="M18 7h-1.5a.5.5 0 0 0 0 1h1.6c.5 0 .9.4.9.9v10.2c0 .5-.4.9-.9.9H6.9a.9.9 0 0 1-.9-.9V8.9c0-.5.4-.9.9-.9h1.6a.5.5 0 0 0 .35-.15A.5.5 0 0 0 9 7.5a.5.5 0 0 0-.15-.35A.5.5 0 0 0 8.5 7H7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"></path></g></svg></button></div></div></div></div><div class="ix s z"><div><div class="ij"><div><div class="db" role="tooltip" aria-hidden="false"><button class="cw dm bl bm bn bo bp bq br bs ej ek bv el em" aria-label="Bookmark Post"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></button></div></div></div></div></div><div class="db" aria-hidden="false" aria-describedby="creatorActionOverflowMenu" aria-labelledby="creatorActionOverflowMenu"><div class="db" aria-hidden="false" aria-describedby="removeFromPublicationPopover" aria-labelledby="removeFromPublicationPopover"><div class="iz s z"><button class="cw dm bl bm bn bo bp bq br bs ej ek bv el em" aria-controls="creatorActionOverflowMenu" aria-expanded="false" aria-label="More options"><svg class="r ja jb" width="25" height="25"><path d="M5 12.5c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41A1.93 1.93 0 0 0 7 10.5c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41zm5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59-.39.39-.58.86-.58 1.41zm5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59.56 0 1.03-.2 1.42-.59.39-.39.58-.86.58-1.41 0-.55-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59-.39.39-.58.86-.58 1.41z" fill-rule="evenodd"></path></svg></button></div></div></div></div></div></div><div class="rg qk s"><ul class="bq br"><li class="db rh iy ri"><a href="/tagged/nlp" class="bf b ok rj ee rk rl rm s mk">NLP</a></li><li class="db rh iy ri"><a href="/tagged/japanese" class="bf b ok rj ee rk rl rm s mk">Japanese</a></li><li class="db rh iy ri"><a href="/tagged/algorithms" class="bf b ok rj ee rk rl rm s mk">Algorithms</a></li><li class="db rh iy ri"><a href="/tagged/programming" class="bf b ok rj ee rk rl rm s mk">Programming</a></li><li class="db rh iy ri"><a href="/tagged/tokenization" class="bf b ok rj ee rk rl rm s mk">Tokenization</a></li></ul></div></div></div><div><div class="n p"><div class="au av aw ax ay gf ba v"></div></div><div class="s iw"><div class="rn os s ro"><div class="n p"><div class="au av aw ax ay gf ba v"><div class="n o bz"><h2 class="bf kt rp rq rr kw rs rt ru kz rv rw rx lb ry rz sa ld sb sc sd lf nc om on oo op oq hf"><a href="https://towardsdatascience.com/?source=follow_footer-------------------------------------" class="cw dm bl bm bn bo bp bq br bs ej ek bv el em" rel="noopener">More from Towards Data Science</a></h2></div><div class="se s"><p class="bf b bg bh ee">Your home for data science. A Medium publication sharing concepts, ideas and codes.</p></div></div></div></div></div><div class="sf s ro iw"><div class="n p"><div class="sg sh si sj sk kl ba v"><div class="sl qi s"><div class="kl s ko"><a href="https://towardsdatascience.com/?source=follow_footer-------------------------------------" class="bf b bg bh sm sn so sp sq sr ss bs st su sv sw sx sy sz fq db rm" rel="noopener">Read more from <!-- -->Towards Data Science</a></div></div></div></div></div><div class="s fr iw"><div class="n p"><div class="au av aw ax ay az ba v"></div></div></div></div></div></div><div class="ta s tb tc"><div class="n p"><div class="au av aw ax ay az ba v"><div class="n ao"><div class="n o bz"><a href="https://medium.com/?source=post_page-----87ab6b256984--------------------------------" class="cw dm bl bm bn bo bp bq br bs td te bv tf tg" rel="noopener" aria-label="Go to homepage"><svg viewBox="0 0 3940 610" class="so th"><path d="M594.79 308.2c0 163.76-131.85 296.52-294.5 296.52S5.8 472 5.8 308.2 137.65 11.69 300.29 11.69s294.5 132.75 294.5 296.51M917.86 308.2c0 154.16-65.93 279.12-147.25 279.12s-147.25-125-147.25-279.12S689.29 29.08 770.61 29.08s147.25 125 147.25 279.12M1050 308.2c0 138.12-23.19 250.08-51.79 250.08s-51.79-112-51.79-250.08 23.19-250.08 51.8-250.08S1050 170.09 1050 308.2M1862.77 37.4l.82-.18v-6.35h-167.48l-155.51 365.5-155.51-365.5h-180.48v6.35l.81.18c30.57 6.9 46.09 17.19 46.09 54.3v434.45c0 37.11-15.58 47.4-46.15 54.3l-.81.18V587H1327v-6.35l-.81-.18c-30.57-6.9-46.09-17.19-46.09-54.3V116.9L1479.87 587h11.33l205.59-483.21V536.9c-2.62 29.31-18 38.36-45.68 44.61l-.82.19v6.3h213.3v-6.3l-.82-.19c-27.71-6.25-43.46-15.3-46.08-44.61l-.14-445.2h.14c0-37.11 15.52-47.4 46.08-54.3m97.43 287.8c3.49-78.06 31.52-134.4 78.56-135.37 14.51.24 26.68 5 36.14 14.16 20.1 19.51 29.55 60.28 28.09 121.21zm-2.11 22h250v-1.05c-.71-59.69-18-106.12-51.34-138-28.82-27.55-71.49-42.71-116.31-42.71h-1c-23.26 0-51.79 5.64-72.09 15.86-23.11 10.7-43.49 26.7-60.45 47.7-27.3 33.83-43.84 79.55-47.86 130.93-.13 1.54-.24 3.08-.35 4.62s-.18 2.92-.25 4.39a332.64 332.64 0 0 0-.36 21.69C1860.79 507 1923.65 600 2035.3 600c98 0 155.07-71.64 169.3-167.8l-7.19-2.53c-25 51.68-69.9 83-121 79.18-69.76-5.22-123.2-75.95-118.35-161.63m532.69 157.68c-8.2 19.45-25.31 30.15-48.24 30.15s-43.89-15.74-58.78-44.34c-16-30.7-24.42-74.1-24.42-125.51 0-107 33.28-176.21 84.79-176.21 21.57 0 38.55 10.7 46.65 29.37zm165.84 76.28c-30.57-7.23-46.09-18-46.09-57V5.28L2424.77 60v6.7l1.14-.09c25.62-2.07 43 1.47 53.09 10.79 7.9 7.3 11.75 18.5 11.75 34.26v71.14c-18.31-11.69-40.09-17.38-66.52-17.38-53.6 0-102.59 22.57-137.92 63.56-36.83 42.72-56.3 101.1-56.3 168.81C2230 518.72 2289.53 600 2378.13 600c51.83 0 93.53-28.4 112.62-76.3V588h166.65v-6.66zm159.29-505.33c0-37.76-28.47-66.24-66.24-66.24-37.59 0-67 29.1-67 66.24s29.44 66.24 67 66.24c37.77 0 66.24-28.48 66.24-66.24m43.84 505.33c-30.57-7.23-46.09-18-46.09-57h-.13V166.65l-166.66 47.85v6.5l1 .09c36.06 3.21 45.93 15.63 45.93 57.77V588h166.8v-6.66zm427.05 0c-30.57-7.23-46.09-18-46.09-57V166.65L3082 212.92v6.52l.94.1c29.48 3.1 38 16.23 38 58.56v226c-9.83 19.45-28.27 31-50.61 31.78-36.23 0-56.18-24.47-56.18-68.9V166.66l-166.66 47.85V221l1 .09c36.06 3.2 45.94 15.62 45.94 57.77v191.27a214.48 214.48 0 0 0 3.47 39.82l3 13.05c14.11 50.56 51.08 77 109 77 49.06 0 92.06-30.37 111-77.89v66h166.66v-6.66zM3934.2 588v-6.67l-.81-.19c-33.17-7.65-46.09-22.07-46.09-51.43v-243.2c0-75.83-42.59-121.09-113.93-121.09-52 0-95.85 30.05-112.73 76.86-13.41-49.6-52-76.86-109.06-76.86-50.12 0-89.4 26.45-106.25 71.13v-69.87l-166.66 45.89v6.54l1 .09c35.63 3.16 45.93 15.94 45.93 57V588h155.5v-6.66l-.82-.2c-26.46-6.22-35-17.56-35-46.66V255.72c7-16.35 21.11-35.72 49-35.72 34.64 0 52.2 24 52.2 71.28V588h155.54v-6.66l-.82-.2c-26.46-6.22-35-17.56-35-46.66v-248a160.45 160.45 0 0 0-2.2-27.68c7.42-17.77 22.34-38.8 51.37-38.8 35.13 0 52.2 23.31 52.2 71.28V588z"></path></svg></a><div class="ti tj n bz tk cb"><p class="bf b df dv tl"><a href="https://medium.com/about?autoplay=1&amp;source=post_page-----87ab6b256984--------------------------------" class="cw dm bl bm bn bo bp bq br bs tm bv tf tg" rel="noopener">About</a></p><p class="bf b df dv tl"><a href="https://help.medium.com/hc/en-us?source=post_page-----87ab6b256984--------------------------------" class="cw dm bl bm bn bo bp bq br bs tm bv tf tg" rel="noopener">Help</a></p><p class="bf b df dv tl"><a href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----87ab6b256984--------------------------------" class="cw dm bl bm bn bo bp bq br bs tm bv tf tg" rel="noopener">Legal</a></p></div></div><div class="aq tn to cb"><p class="bf b df dv tp">Get the Medium app</p></div><div class="aq tn tq cb tr"><div class="pw s"><a href="https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&amp;mt=8&amp;ct=post_page&amp;source=post_page-----87ab6b256984--------------------------------" class="cw dm bl bm bn bo bp bq br bs td te bv tf tg" rel="noopener nofollow"><img alt="A button that says &#x27;Download on the App Store&#x27;, and if clicked it will lead you to the iOS App store" class="" src="https://miro.medium.com/max/270/1*Crl55Tm6yDNMoucPo1tvDg.png" width="135" height="41"/></a></div><div class="s"><a href="https://play.google.com/store/apps/details?id=com.medium.reader&amp;source=post_page-----87ab6b256984--------------------------------" class="cw dm bl bm bn bo bp bq br bs td te bv tf tg" rel="noopener nofollow"><img alt="A button that says &#x27;Get it on, Google Play&#x27;, and if clicked it will lead you to the Google Play store" class="" src="https://miro.medium.com/max/270/1*W_RAPQ62h0em559zluJLdQ.png" width="135" height="41"/></a></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__ = "main-20210611-210832-ab22214088"</script><script>window.__GRAPHQL_URI__ = "https://towardsdatascience.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"auroraPage":{"isAuroraPageEnabled":true},"bookReader":{"assets":{},"reader":{"currentAsset":null,"currentGFI":null,"settingsPanelIsOpen":false,"settings":{"fontFamily":"CHARTER","fontScale":"M","publisherStyling":true,"textAlignment":"start","theme":"White","lineSpacing":0,"wordSpacing":0,"letterSpacing":0},"internalNavCounter":0,"currentSelection":null}},"cache":{"experimentGroupSet":true,"reason":"This request is not using the cache middleware worker","group":"disabled","tags":["group-edgeCachePosts","post-87ab6b256984","user-9c53864550a7","collection-7f60cf5620c9"],"serverVariantState":"","middlewareEnabled":false,"cacheStatus":"DYNAMIC"},"client":{"hydrated":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"routingEntity":{"type":"COLLECTION","id":"7f60cf5620c9","explicit":true}},"debug":{"requestId":"67b3aa29-000f-489f-b44b-a5435b11be54","hybridDevServices":[],"showBookReaderDebugger":false,"originalSpanCarrier":{"ot-tracer-spanid":"0536257070db702b","ot-tracer-traceid":"5252faba00067138","ot-tracer-sampled":"true"}},"multiVote":{"clapsPerPost":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedGoogleOneTap":null,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Ftowardsdatascience.com\u002Fhow-japanese-tokenizers-work-87ab6b256984","host":"towardsdatascience.com","hostname":"towardsdatascience.com","referrer":"","hasSetReferrer":false,"susiModal":{"step":null,"operation":"register"},"postRead":false},"tracing":{},"config":{"nodeEnv":"production","version":"main-20210611-210832-ab22214088","isTaggedVersion":false,"isMediumDotApp":false,"target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"lightstep.medium.systems","token":"ce5be895bef60919541332990ac9fef2","appVersion":"main-20210611-210832-ab22214088"},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","datadog":{"applicationId":"6702d87d-a7e0-42fe-bbcb-95b469547ea0","clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","rumToken":"pubf9cc52896502b9413b68ba36fc0c7162","context":{"deployment":{"target":"production","tag":"main-20210611-210832-ab22214088","commit":"ab2221408881c5782e162f16def39b6b050ce3cf"}},"datacenter":"us"},"googleAnalyticsCode":"UA-24232453-2","googlePay":{"apiVersion":"2","apiVersionMinor":"0","merchantId":"BCR2DN6TV7EMTGBM","merchantName":"Medium"},"signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["8a9336e5bb4","b7e45b22fec3","193b68bd4fba","8d6b8a439e32","54c98c43354d","3f6ecf56618","d944778ce714","92d2092dc598","ae2a65f35510","1285ba81cada","544c7006046e","fc8964313712","40187e704f1c","88d9857e584e","7b6769f2748b","bcc38c8f6edf","cef6983b292","cb8577c9149e","444d13b52878","713d7dbc99b0","ef8e90590e66","191186aaafa0","55760f21cdc5","9dc80918cc93","bdc4052bbdba","8ccfed20cbb2"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"1*OMF3fSqH8t4xBJ9-6oZDZw.png","height":106,"width":545},"postLogo":{"imageId":"1*kFrc4tBFM_tCis-2Ic87WA.png","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl"},"session":{"xsrf":"0e41f6ff283e"}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","variantFlags":[{"__typename":"VariantFlag","name":"allow_access","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_signup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_test_auth","valueType":{"__typename":"VariantFlagString","value":"disallow"}},{"__typename":"VariantFlag","name":"android_enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"assign_default_topic_to_posts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"author_under_quota_fair_distribution","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"available_annual_plan","valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"}},{"__typename":"VariantFlag","name":"available_monthly_plan","valueType":{"__typename":"VariantFlagString","value":"60e220181034"}},{"__typename":"VariantFlag","name":"bane_add_user","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"bane_verify_domain","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"branch_seo_metadata","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"browsable_stream_config_bucket","valueType":{"__typename":"VariantFlagString","value":"curated-topics"}},{"__typename":"VariantFlag","name":"coronavirus_topic_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"covid_19_cdc_banner","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"default_seo_post_titles","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_android_subscription_activity_carousel","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_ios_resume_reading_toast","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_ios_subscription_activity_carousel","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_mobile_featured_chunk","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_post_recommended_from_friends_provider","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"eds_public_story_to_membership_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_local_currency","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_annual_renewal_reminder_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_app_flirty_thirty","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_parse_expires_at","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_sign_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_webhook_renewal_failure","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_about_page_routing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_general_admission","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_nav","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_profile_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_pub_follower_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_sticky_nav","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_tag_page_routing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_author_autotier","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_author_cards","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_author_cards_byline","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_automated_mission_control_triggers","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_blogrolls","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_apple_pay","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_client","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_google_pay","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_integration","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_paypal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_trial_membership","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branch_io","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branch_text_me_the_app","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branding","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branding_fonts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_cleansweep_double_writes","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_confirm_sign_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_cta_meter","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_custom_domain_v2_settings","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_daily_read_digest_promo","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_digest_feature_logging","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_digest_generation_pipeline","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_digest_tagline","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_earn_redirect","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_edit_alt_text","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_email_sign_in_captcha","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_embedding_based_diversification","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_end_of_post_cleanup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_evhead_com_to_ev_medium_com_redirect","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_expanded_feature_chunk_pool","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_filter_by_resend_rules","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_filter_expire_processor","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_footer_app_buttons","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_global_susi_modal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_one_tap","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook_subscription_cancelled","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook_subscription_expired","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook_subscription_in_grace_period","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook_subscription_on_hold","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook_subscription_renewed","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_highlander_member_digest","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_hightower_user_bonus","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_hot_topics","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_iceland_forced_android","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_iceland_forced_ios","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_post_stats","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_json_logs_trained_ranker","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_kbfd_rex","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_kbfd_rex_app_highlights","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_continue_this_thread","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_homepage","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_homepage_feed","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_notifications","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_pub_homepage_for_selected_domains","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_response_markup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_server_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_stories","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_topics","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_unread_notification_count_mutation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_login_code_flow","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_marketing_emails","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_media_resource_try_catch","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_medium2_kbfd","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_medium_dot_com","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_member_only_paywall","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_membership_remove_section_a","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_miro_on_kubernetes","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mission_control","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ml_rank_modules","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ml_rank_rex_anno","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mute","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_collaborative_filtering_data","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_login_flow","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_member_welcome_email_enhancement","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_three_dot_menu","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_newsletter_lo_flow_custom_domains","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_parsely","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_patronus_on_kubernetes","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_popularity_feature","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_page_nav_stickiness_removal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_settings_screen","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pp_tax_status_clarity","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_primary_topic_for_mobile","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_profile_design_reminder","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_profile_page_seo_titles","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_publish_to_email_for_publication_posts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rank_v2_usage","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_receipt_notes","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_all","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_edit_and_delete","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_moderation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rex_follow_feed_cache","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rito_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rtr_channel","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_save_to_medium","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_signup_friction","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_starspace","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_starspace_ranker_starspace","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tag_feed_urls","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tick_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ticks_digest_promo","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tipalti_onboarding","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_trending_posts_diversification","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tribute_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_triton_predictions","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_trumpland_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_twitter_auth_suggestions","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_writer_management","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"entity_driven_subscription_milestone_2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"glyph_font_set","valueType":{"__typename":"VariantFlagString","value":"m2-unbound"}},{"__typename":"VariantFlag","name":"google_sign_in_android","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_generic_home_modules","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_home_post_menu","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_iceland_nux","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_pub_follow_email_opt_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"is_medium_subscriber","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"kill_fastrak","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"kill_stripe_express","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"limit_post_referrers","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"limit_user_follows","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"make_nav_sticky","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"new_transition_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"posts_under_quota_fair_distribution","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"provider_for_credit_card_form","valueType":{"__typename":"VariantFlagString","value":"BRAINTREE"}},{"__typename":"VariantFlag","name":"pub_sidebar","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"redefine_average_post_reading_time","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"remove_post_post_similarity","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"retrained_ranker","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"sign_up_with_email_button","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"signin_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"signup_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"single_partition_key","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"skip_sign_in_recaptcha","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"suppress_apple_missing_expires_date_alert","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"use_new_admin_topic_backend","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"withhold_nyt_stories","valueType":{"__typename":"VariantFlagBoolean","value":true}}],"viewer":{"__ref":"User:9c53864550a7"},"meterPost({\"postId\":\"87ab6b256984\",\"postMeteringOptions\":{\"referrer\":\"\",\"sk\":null,\"source\":null}})":{"__ref":"MeteringInfo:{}"},"postResult({\"id\":\"87ab6b256984\"})":{"__ref":"Post:87ab6b256984"}},"User:9c53864550a7":{"id":"9c53864550a7","__typename":"User","username":"wanasit","name":"Wanasit Tanakitrungruang","imageId":"0*yBv-xYnJJ-P0tVZx.","mediumMemberAt":1558749465000,"hasPastMemberships":false,"isPartnerProgramEnrolled":true,"email":"l3luel3erryjuice@hotmail.com","unverifiedEmail":"","createdAt":1517121312008,"isAuroraVisible":true,"isEligibleToViewNewResponses":true,"isMembershipTrialEligible":true,"isSuspended":false,"styleEditorOnboardingVersionSeen":0,"allowEmailAddressSharingEditorWriter":false,"hasSubdomain":false,"dismissableFlags":[],"hasWebMembershipTrialEnabled":false,"twitterScreenName":"","geolocation":{"__typename":"Geolocation","country":"JP"},"atsQualifiedAt":1612205615001,"viewerIsUser":true,"viewerEdge":{"__ref":"UserViewerEdge:userId:9c53864550a7-viewerId:9c53864550a7"},"customStyleSheet":null,"hasCompletedProfile":false,"bio":"A software engineer interested in NLP, Search, and text-related problems. Currently working @Indeed (Tokyo) as an Engineering Manager on Search Quality.","customDomainState":null,"socialStats":{"__typename":"SocialStats","followerCount":145,"followingCount":146},"bookAuthor":null,"allowNotes":true,"newsletterV3":null,"followedCollections":5},"MeteringInfo:{}":{"__typename":"MeteringInfo","postIds":[],"maxUnlockCount":3,"unlocksRemaining":0},"UserViewerEdge:userId:9c53864550a7-viewerId:9c53864550a7":{"id":"userId:9c53864550a7-viewerId:9c53864550a7","__typename":"UserViewerEdge","isAllowEdsEnabled":false,"isFollowing":false,"readPostsCount":0,"createdAt":1517121312008,"lastPostCreatedAt":1599267980807,"isBlocking":false},"ImageMetadata:1*ChFMdf--f5jbm-AYv6VdYA@2x.png":{"id":"1*ChFMdf--f5jbm-AYv6VdYA@2x.png","__typename":"ImageMetadata"},"CustomStyleSheet:63d23b36fcaa":{"id":"63d23b36fcaa","__typename":"CustomStyleSheet","global":{"__typename":"GlobalStyles","colorPalette":{"__typename":"StyleSheetColorPalette","primary":{"__typename":"ColorValue","colorPalette":{"__typename":"ColorPalette","highlightSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FFEDF4FC","point":0},{"__typename":"ColorPoint","color":"#FFE9F2FD","point":0.1},{"__typename":"ColorPoint","color":"#FFE6F1FD","point":0.2},{"__typename":"ColorPoint","color":"#FFE2EFFD","point":0.3},{"__typename":"ColorPoint","color":"#FFDFEEFD","point":0.4},{"__typename":"ColorPoint","color":"#FFDBECFE","point":0.5},{"__typename":"ColorPoint","color":"#FFD7EBFE","point":0.6},{"__typename":"ColorPoint","color":"#FFD4E9FE","point":0.7},{"__typename":"ColorPoint","color":"#FFD0E7FF","point":0.8},{"__typename":"ColorPoint","color":"#FFCCE6FF","point":0.9},{"__typename":"ColorPoint","color":"#FFC8E4FF","point":1}]},"defaultBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FF668AAA","point":0},{"__typename":"ColorPoint","color":"#FF61809D","point":0.1},{"__typename":"ColorPoint","color":"#FF5A7690","point":0.2},{"__typename":"ColorPoint","color":"#FF546C83","point":0.3},{"__typename":"ColorPoint","color":"#FF4D6275","point":0.4},{"__typename":"ColorPoint","color":"#FF455768","point":0.5},{"__typename":"ColorPoint","color":"#FF3D4C5A","point":0.6},{"__typename":"ColorPoint","color":"#FF34414C","point":0.7},{"__typename":"ColorPoint","color":"#FF2B353E","point":0.8},{"__typename":"ColorPoint","color":"#FF21282F","point":0.9},{"__typename":"ColorPoint","color":"#FF161B1F","point":1}]},"tintBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FF355876","colorPoints":[{"__typename":"ColorPoint","color":"#FF355876","point":0},{"__typename":"ColorPoint","color":"#FF4D6C88","point":0.1},{"__typename":"ColorPoint","color":"#FF637F99","point":0.2},{"__typename":"ColorPoint","color":"#FF7791A8","point":0.3},{"__typename":"ColorPoint","color":"#FF8CA2B7","point":0.4},{"__typename":"ColorPoint","color":"#FF9FB3C6","point":0.5},{"__typename":"ColorPoint","color":"#FFB2C3D4","point":0.6},{"__typename":"ColorPoint","color":"#FFC5D2E1","point":0.7},{"__typename":"ColorPoint","color":"#FFD7E2EE","point":0.8},{"__typename":"ColorPoint","color":"#FFE9F1FA","point":0.9},{"__typename":"ColorPoint","color":"#FFFBFFFF","point":1}]}}},"background":null},"fonts":{"__typename":"StyleSheetFonts","font1":{"__typename":"StyleSheetFont","name":"SANS_SERIF_1"},"font2":{"__typename":"StyleSheetFont","name":"SANS_SERIF_1"},"font3":{"__typename":"StyleSheetFont","name":"SERIF_2"}}},"header":{"__typename":"HeaderStyles","backgroundColor":{"__typename":"ColorValue","colorPalette":{"__typename":"ColorPalette","tintBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FF355876","colorPoints":[{"__typename":"ColorPoint","color":"#FF355876","point":0},{"__typename":"ColorPoint","color":"#FF4D6C88","point":0.1},{"__typename":"ColorPoint","color":"#FF637F99","point":0.2},{"__typename":"ColorPoint","color":"#FF7791A8","point":0.3},{"__typename":"ColorPoint","color":"#FF8CA2B7","point":0.4},{"__typename":"ColorPoint","color":"#FF9FB3C6","point":0.5},{"__typename":"ColorPoint","color":"#FFB2C3D4","point":0.6},{"__typename":"ColorPoint","color":"#FFC5D2E1","point":0.7},{"__typename":"ColorPoint","color":"#FFD7E2EE","point":0.8},{"__typename":"ColorPoint","color":"#FFE9F1FA","point":0.9},{"__typename":"ColorPoint","color":"#FFFBFFFF","point":1}]}},"rgb":"355876","alpha":"99"},"postBackgroundColor":null,"backgroundImage":{"__ref":"ImageMetadata:1*sfUruIusLq6tbpLx0sDYZQ.png"},"headerScale":"HEADER_SCALE_MEDIUM","horizontalAlignment":"CENTER","backgroundImageDisplayMode":"IMAGE_DISPLAY_MODE_FILL","backgroundImageVerticalAlignment":"END","backgroundColorDisplayMode":"COLOR_DISPLAY_MODE_SOLID","secondaryBackgroundColor":null,"nameColor":null,"nameTreatment":"NAME_TREATMENT_LOGO","postNameTreatment":"NAME_TREATMENT_LOGO","logoImage":{"__ref":"ImageMetadata:1*AGyTPCaRzVqL77kFwUwHKg.png"},"logoScale":"HEADER_SCALE_LARGE","taglineColor":{"__typename":"ColorValue","rgb":"ffffff","alpha":"ff"},"taglineTreatment":"TAGLINE_TREATMENT_HEADER"},"navigation":{"__typename":"HeaderNavigation","navItems":[{"__typename":"HeaderNavigationItem","name":"Editors' Picks","href":null,"type":"NAV_TYPE_TAG","tags":[{"__ref":"Tag:editors-pick"}],"tagSlugs":["editors-pick"]},{"__typename":"HeaderNavigationItem","name":"Features","href":null,"type":"NAV_TYPE_TAG","tags":[{"__ref":"Tag:tds-features"}],"tagSlugs":["tds-features"]},{"__typename":"HeaderNavigationItem","name":"Deep Dives","href":null,"type":"NAV_TYPE_TAG","tags":[{"__ref":"Tag:deep-dives"}],"tagSlugs":["deep-dives"]},{"__typename":"HeaderNavigationItem","name":"Grow","href":"https:\u002F\u002Ftowardsdatascience.com\u002Fhow-to-get-the-most-out-of-towards-data-science-3bf37f75a345","type":"NAV_TYPE_LINK","tags":[],"tagSlugs":[]},{"__typename":"HeaderNavigationItem","name":"Contribute","href":"https:\u002F\u002Ftowardsdatascience.com\u002Fquestions-96667b06af5","type":"NAV_TYPE_LINK","tags":[],"tagSlugs":[]}]},"postBody":null,"blogroll":null},"ImageMetadata:1*sfUruIusLq6tbpLx0sDYZQ.png":{"id":"1*sfUruIusLq6tbpLx0sDYZQ.png","__typename":"ImageMetadata","originalWidth":1401},"CollectionViewerEdge:collectionId:7f60cf5620c9-viewerId:9c53864550a7":{"id":"collectionId:7f60cf5620c9-viewerId:9c53864550a7","__typename":"CollectionViewerEdge","isEditor":false,"canEditOwnPosts":true,"canEditPosts":false,"isFollowing":true},"ImageMetadata:1*mG6i4Bh_LgixUYXJgQpYsg@2x.png":{"id":"1*mG6i4Bh_LgixUYXJgQpYsg@2x.png","__typename":"ImageMetadata","originalWidth":337,"originalHeight":122},"User:7e12c71dfa81":{"id":"7e12c71dfa81","__typename":"User","atsQualifiedAt":1612205680542},"ImageMetadata:1*eLxNtw6hQ4-3HrHda5BCCw.png":{"id":"1*eLxNtw6hQ4-3HrHda5BCCw.png","__typename":"ImageMetadata"},"NewsletterV3:d6fe9076899":{"id":"d6fe9076899","__typename":"NewsletterV3","slug":"the-variable","showPromo":true,"name":"The Variable","description":"Every Thursday, the Variable delivers the very best of Towards Data Science: from hands-on tutorials and cutting-edge research to original features you don't want to miss.","collection":{"__ref":"Collection:7f60cf5620c9"},"type":"NEWSLETTER_TYPE_COLLECTION","user":{"__ref":"User:895063a310f4"}},"Collection:7f60cf5620c9":{"id":"7f60cf5620c9","__typename":"Collection","domain":"towardsdatascience.com","googleAnalyticsId":null,"slug":"towards-data-science","colorBehavior":"ACCENT_COLOR_AND_FILL_BACKGROUND","isAuroraVisible":true,"favicon":{"__ref":"ImageMetadata:1*ChFMdf--f5jbm-AYv6VdYA@2x.png"},"name":"Towards Data Science","colorPalette":{"__typename":"ColorPalette","highlightSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FFEDF4FC","point":0},{"__typename":"ColorPoint","color":"#FFE9F2FD","point":0.1},{"__typename":"ColorPoint","color":"#FFE6F1FD","point":0.2},{"__typename":"ColorPoint","color":"#FFE2EFFD","point":0.3},{"__typename":"ColorPoint","color":"#FFDFEEFD","point":0.4},{"__typename":"ColorPoint","color":"#FFDBECFE","point":0.5},{"__typename":"ColorPoint","color":"#FFD7EBFE","point":0.6},{"__typename":"ColorPoint","color":"#FFD4E9FE","point":0.7},{"__typename":"ColorPoint","color":"#FFD0E7FF","point":0.8},{"__typename":"ColorPoint","color":"#FFCCE6FF","point":0.9},{"__typename":"ColorPoint","color":"#FFC8E4FF","point":1}]},"defaultBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FF668AAA","point":0},{"__typename":"ColorPoint","color":"#FF61809D","point":0.1},{"__typename":"ColorPoint","color":"#FF5A7690","point":0.2},{"__typename":"ColorPoint","color":"#FF546C83","point":0.3},{"__typename":"ColorPoint","color":"#FF4D6275","point":0.4},{"__typename":"ColorPoint","color":"#FF455768","point":0.5},{"__typename":"ColorPoint","color":"#FF3D4C5A","point":0.6},{"__typename":"ColorPoint","color":"#FF34414C","point":0.7},{"__typename":"ColorPoint","color":"#FF2B353E","point":0.8},{"__typename":"ColorPoint","color":"#FF21282F","point":0.9},{"__typename":"ColorPoint","color":"#FF161B1F","point":1}]},"tintBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FF355876","colorPoints":[{"__typename":"ColorPoint","color":"#FF355876","point":0},{"__typename":"ColorPoint","color":"#FF4D6C88","point":0.1},{"__typename":"ColorPoint","color":"#FF637F99","point":0.2},{"__typename":"ColorPoint","color":"#FF7791A8","point":0.3},{"__typename":"ColorPoint","color":"#FF8CA2B7","point":0.4},{"__typename":"ColorPoint","color":"#FF9FB3C6","point":0.5},{"__typename":"ColorPoint","color":"#FFB2C3D4","point":0.6},{"__typename":"ColorPoint","color":"#FFC5D2E1","point":0.7},{"__typename":"ColorPoint","color":"#FFD7E2EE","point":0.8},{"__typename":"ColorPoint","color":"#FFE9F1FA","point":0.9},{"__typename":"ColorPoint","color":"#FFFBFFFF","point":1}]}},"customStyleSheet":{"__ref":"CustomStyleSheet:63d23b36fcaa"},"tagline":"A Medium publication sharing concepts, ideas and codes.","isAuroraEligible":true,"viewerEdge":{"__ref":"CollectionViewerEdge:collectionId:7f60cf5620c9-viewerId:9c53864550a7"},"logo":{"__ref":"ImageMetadata:1*mG6i4Bh_LgixUYXJgQpYsg@2x.png"},"navItems":[{"__typename":"NavItem","title":"Data Science","url":"https:\u002F\u002Ftowardsdatascience.com\u002Fdata-science\u002Fhome","type":"TOPIC_PAGE"},{"__typename":"NavItem","title":"Machine Learning","url":"https:\u002F\u002Ftowardsdatascience.com\u002Fmachine-learning\u002Fhome","type":"TOPIC_PAGE"},{"__typename":"NavItem","title":"Programming","url":"https:\u002F\u002Ftowardsdatascience.com\u002Fprogramming\u002Fhome","type":"TOPIC_PAGE"},{"__typename":"NavItem","title":"Visualization","url":"https:\u002F\u002Ftowardsdatascience.com\u002Fdata-visualization\u002Fhome","type":"TOPIC_PAGE"},{"__typename":"NavItem","title":"Video","url":"https:\u002F\u002Ftowardsdatascience.com\u002Fvideo\u002Fhome","type":"TOPIC_PAGE"},{"__typename":"NavItem","title":"★","url":"https:\u002F\u002Ftowardsdatascience.com\u002Feditors-picks\u002Fhome","type":"TOPIC_PAGE"},{"__typename":"NavItem","title":"About","url":"https:\u002F\u002Ftowardsdatascience.com\u002Fabout-us\u002Fhome","type":"TOPIC_PAGE"},{"__typename":"NavItem","title":"Contribute","url":"https:\u002F\u002Ftowardsdatascience.com\u002Fcontribute\u002Fhome","type":"EXTERNAL_LINK_NAV_ITEM"}],"creator":{"__ref":"User:7e12c71dfa81"},"subscriberCount":605140,"avatar":{"__ref":"ImageMetadata:1*eLxNtw6hQ4-3HrHda5BCCw.png"},"newsletterV3":{"__ref":"NewsletterV3:d6fe9076899"},"canToggleEmail":true,"description":"Your home for data science. A Medium publication sharing concepts, ideas and codes.","ampEnabled":false,"twitterUsername":"TDataScience","facebookPageId":null,"customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","status":"ACTIVE","isSubdomain":false}},"ptsQualifiedAt":1616092952992},"ImageMetadata:1*AGyTPCaRzVqL77kFwUwHKg.png":{"id":"1*AGyTPCaRzVqL77kFwUwHKg.png","__typename":"ImageMetadata","originalWidth":1376,"originalHeight":429},"Tag:editors-pick":{"id":"editors-pick","__typename":"Tag","normalizedTagSlug":""},"Tag:tds-features":{"id":"tds-features","__typename":"Tag","normalizedTagSlug":""},"Tag:deep-dives":{"id":"deep-dives","__typename":"Tag","normalizedTagSlug":""},"Topic:ae5d4995e225":{"id":"ae5d4995e225","__typename":"Topic","name":"Data Science","slug":"data-science","viewerEdge":{"__ref":"TopicViewerEdge:topicId:ae5d4995e225-viewerId:9c53864550a7"}},"PostViewerEdge:postId:87ab6b256984-viewerId:9c53864550a7":{"id":"postId:87ab6b256984-viewerId:9c53864550a7","__typename":"PostViewerEdge","readingList":"READING_LIST_NONE","creatorPartnerProgramEnrollmentStatus":"ENROLLED","clapCount":0,"shareKey":"b07ef7236b7270d12dfbc9c357c6a8b8","catalogsConnection":{"__typename":"EntityCatalogsConnection","catalogsContainingThis({\"type\":\"LISTS\"})":[],"predefinedContainingThis":[]}},"Paragraph:4af57541d943_0":{"id":"4af57541d943_0","__typename":"Paragraph","name":"36dc","text":"How Japanese Tokenizers Work","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_1":{"id":"4af57541d943_1","__typename":"Paragraph","name":"56da","text":"A deep dive into Japanese tokenization and its components (Dictionary, Lattice, Viterbi algorithm, etc) by open-source library examples","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_2":{"id":"4af57541d943_2","__typename":"Paragraph","name":"b8b4","text":"I recently have been working on Kotori and doing research on Japanese NLP tools. I’m writing this article to share what I have learned so far about Japanese tokenization and its components.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":32,"end":38,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Fwanasit\u002Fkotori","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_3":{"id":"4af57541d943_3","__typename":"Paragraph","name":"12e4","text":"If you haven’t heard of it, Kotori is a Japanese tokenizer and morphological analysis engine written in Kotlin. Please check Kotori on Github and give it some stars if you like this article.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":28,"end":110,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Fwanasit\u002Fkotori","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":190,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_4":{"id":"4af57541d943_4","__typename":"Paragraph","name":"255c","text":"Photo by Hiroshi Tsubono on Unsplash","type":"IMG","href":null,"layout":"FULL_WIDTH","metadata":{"__ref":"ImageMetadata:0*Hv1K60BZzfwAWdXZ"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":9,"end":24,"type":"A","href":"https:\u002F\u002Funsplash.com\u002F@hiro7jp?utm_source=medium&utm_medium=referral","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":28,"end":36,"type":"A","href":"https:\u002F\u002Funsplash.com?utm_source=medium&utm_medium=referral","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_5":{"id":"4af57541d943_5","__typename":"Paragraph","name":"17da","text":"Japanese Tokenizers","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_6":{"id":"4af57541d943_6","__typename":"Paragraph","name":"176f","text":"Tokenization, or breaking a text into a list of words, is an important step before other NLP tasks (e.g. text classification). In English, words are often separated by whitespace or other symbols, which make it easier to tokenize. However, in Japanese, words are normally written without any space between. Japanese tokenization requires reading\u002Fanalyzing the whole sentence, recognizing words, and determining word boundaries without any explicit delimiters.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_7":{"id":"4af57541d943_7","__typename":"Paragraph","name":"eff3","text":"Most Japanese tokenizers use Lattice-based tokenization. As the name suggested, a lattice-based tokenizer builds a lattice (or a graph-like data structure) consisting of all possible tokens (terms or substrings) that surface on the input text. It uses the Viterbi algorithm to find the best connected-path through the lattice.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":29,"end":55,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":256,"end":264,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":29,"end":42,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":115,"end":122,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":256,"end":263,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_8":{"id":"4af57541d943_8","__typename":"Paragraph","name":"ff74","text":"The most popular lattice-based tokenizer is MeCab (written in C++). Most open-source Japanese tokenizer libraries are either simply MeCab’s wrapper or re-implementation of Lattice-based tokenization in different platforms.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":44,"end":49,"type":"A","href":"https:\u002F\u002Ftaku910.github.io\u002Fmecab\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_9":{"id":"4af57541d943_9","__typename":"Paragraph","name":"468a","text":"For examples:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_10":{"id":"4af57541d943_10","__typename":"Paragraph","name":"1d92","text":"Kotori in Kotlin","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":6,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Fwanasit\u002Fkotori","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":10,"end":16,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_11":{"id":"4af57541d943_11","__typename":"Paragraph","name":"b1c4","text":"Sudachi and Kuromoji in Java","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":7,"type":"A","href":"https:\u002F\u002Fgithub.com\u002FWorksApplications\u002FSudachi","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":12,"end":20,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Fatilika\u002Fkuromoji","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":24,"end":28,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_12":{"id":"4af57541d943_12","__typename":"Paragraph","name":"9782","text":"Janome and SudachiPy in Python","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":6,"type":"A","href":"https:\u002F\u002Fmocobeta.github.io\u002Fjanome\u002Fen\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":11,"end":20,"type":"A","href":"https:\u002F\u002Fgithub.com\u002FWorksApplications\u002FSudachiPy","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":24,"end":30,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_13":{"id":"4af57541d943_13","__typename":"Paragraph","name":"e924","text":"Kagome in Go.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":6,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Fikawaha\u002Fkagome","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":10,"end":12,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_14":{"id":"4af57541d943_14","__typename":"Paragraph","name":"867a","text":"MeCab’s IPA dictionary (IPADIC) is also the most popular dictionary. It is used as a baseline or primary dictionary for most tokenizers.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":22,"type":"A","href":"https:\u002F\u002Ftaku910.github.io\u002Fmecab\u002F#download","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_15":{"id":"4af57541d943_15","__typename":"Paragraph","name":"b997","text":"In this article, I’ll explain in detail how the Lattice-based dictionary and tokenization works through a simplified version of Kotori’s code and MeCab’s references.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_16":{"id":"4af57541d943_16","__typename":"Paragraph","name":"49f1","text":"Dictionary","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_17":{"id":"4af57541d943_17","__typename":"Paragraph","name":"f59d","text":"For Lattice-based tokenizers, a dictionary is an object or a data structure that provides information about available terms as well as how those terms should appear next to each other according to Japanese grammar or the probability.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":32,"end":42,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":118,"end":123,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_18":{"id":"4af57541d943_18","__typename":"Paragraph","name":"deec","text":"Although different tokenizer libraries use different in-memory data structures and read different dictionary file formats, all Lattice-based tokenizer dictionaries share mostly the same interface or logical structure.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_19":{"id":"4af57541d943_19","__typename":"Paragraph","name":"a6e1","text":"In this article, we will look into MeCab’s dictionary format. Specifically, MeCab’s IPADIC, which you can download here (to see the content and compare with the note for yourself).","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":35,"end":60,"type":"A","href":"http:\u002F\u002Ftaku910.github.io\u002Fmecab\u002Fdic.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":115,"end":119,"type":"A","href":"https:\u002F\u002Fdrive.google.com\u002Fuc?export=download&id=0B4y35FiV1wh7MWVlSDBCSXZMTXM","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_20":{"id":"4af57541d943_20","__typename":"Paragraph","name":"df48","text":"A tokenizer dictionary consists of two important parts:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_21":{"id":"4af57541d943_21","__typename":"Paragraph","name":"b48e","text":"Term-Dictionary","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":15,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_22":{"id":"4af57541d943_22","__typename":"Paragraph","name":"fb0a","text":"Term-Dictionary (単語辞書 or Lexicon) is a list of known terms (or words). In MeCab’s dictionary directory, all CSV files together make up this term dictionary part.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":104,"end":117,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":25,"end":32,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_23":{"id":"4af57541d943_23","__typename":"Paragraph","name":"cb58","text":"For example, in Noun.place.csv, you can find rows such as:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":16,"end":30,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_24":{"id":"4af57541d943_24","__typename":"Paragraph","name":"dacd","text":"東京,1293,1293,3003,名詞,固有名詞,地域,一般,*,*,東京,トウキョウ,トーキョー\n\n京都,1293,1293,2135,名詞,固有名詞,地域,一般,*,*,京都,キョウト,キョート\n\n札幌,1293,1293,3440,名詞,固有名詞,地域,一般,*,*,札幌,サッポロ,サッポロ\n\n渋谷,1293,1293,4310,名詞,固有名詞,地域,一般,*,*,渋谷,シブヤ,シブヤ","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":17,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":52,"end":69,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":102,"end":119,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":152,"end":169,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_25":{"id":"4af57541d943_25","__typename":"Paragraph","name":"ea66","text":"Each term (or row) consists of multiple columns (or fields), but only the first four columns are important to the tokenization.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":70,"end":92,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":5,"end":9,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":14,"end":17,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":40,"end":47,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":52,"end":58,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_26":{"id":"4af57541d943_26","__typename":"Paragraph","name":"f938","text":"Surface Form (表層形): The string or term that should appear in the text.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":12,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_27":{"id":"4af57541d943_27","__typename":"Paragraph","name":"2ac0","text":"Left\u002FRight Context ID (左\u002F右-文脈ID): This is used for determining connection cost or how likely it is for a term to follow other terms.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":21,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_28":{"id":"4af57541d943_28","__typename":"Paragraph","name":"c2b5","text":"Cost: The cost of having this term. The cost depends on how likely it is for the term to be used. The higher the cost, the less frequently used or rarer is the term.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":4,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_29":{"id":"4af57541d943_29","__typename":"Paragraph","name":"bd62","text":"The remaining columns are additional features about the terms (e.g. part-of-speech, normalized form, pronunciation, …, etc)","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":68,"end":82,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":84,"end":99,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":101,"end":114,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_30":{"id":"4af57541d943_30","__typename":"Paragraph","name":"df59","text":"Notes:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_31":{"id":"4af57541d943_31","__typename":"Paragraph","name":"6d11","text":"A term-dictionary in practice is large and comprehensive. It often contains hundreds of thousands of terms (e.g. around 290,000 terms in IPADIC)","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_32":{"id":"4af57541d943_32","__typename":"Paragraph","name":"a913","text":"Please don’t confuse Dictionary (辞書) with Term-Dictionary (単語辞書). Throughout this article, I will use the term-dictionary to mean the table of terms part, while the dictionary would refer to the whole (term-dictionary + connection cost + others).","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":21,"end":31,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":42,"end":59,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":63,"end":64,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":106,"end":121,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":165,"end":175,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_33":{"id":"4af57541d943_33","__typename":"Paragraph","name":"7fa2","text":"Connection Cost","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_34":{"id":"4af57541d943_34","__typename":"Paragraph","name":"1805","text":"Connection Cost (連接コース) is a cost structure to measure how likely it is for a term to be before or after one another.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_35":{"id":"4af57541d943_35","__typename":"Paragraph","name":"1ed2","text":"The connection likelihood is explained as a cost of connecting the right context ID of the previous word with the left context ID of the following word.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":63,"end":84,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":110,"end":130,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_36":{"id":"4af57541d943_36","__typename":"Paragraph","name":"ee61","text":"(Prev term's rightID, Next term's leftID) -\u003E Cost","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_37":{"id":"4af57541d943_37","__typename":"Paragraph","name":"4025","text":"Similar to the term’s cost, the higher the connection cost, the less likely the given terms should be connected.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_38":{"id":"4af57541d943_38","__typename":"Paragraph","name":"37c8","text":"This mapping is matrix.def file in MeCab’s dictionary. The file structure is pretty straight-forward. The first line is the number of possible rigthIDs and leftIDs (both are 1316 in the example) follow by the list of (rightID, leftID, cost) tuples.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":16,"end":26,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":217,"end":241,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_39":{"id":"4af57541d943_39","__typename":"Paragraph","name":"23b7","text":"1316 1316\n0 0 -434\n0 1 1\n0 2 -1630\n0 3 -1671","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_40":{"id":"4af57541d943_40","__typename":"Paragraph","name":"a8fb","text":"...","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_41":{"id":"4af57541d943_41","__typename":"Paragraph","name":"8c2d","text":"1315 1313 -4369\n1315 1314 -1712\n1315 1315 -129","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_42":{"id":"4af57541d943_42","__typename":"Paragraph","name":"0697","text":"Unknown Terms Handling","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_43":{"id":"4af57541d943_43","__typename":"Paragraph","name":"7d08","text":"In addition to Term-Dictionary and Connection Cost, another dictionary component that is crucial to tokenization in practice is an unknown term (or out-of-vocabulary) handling strategy. It is for recognizing some words, substrings, or symbols outside of term-dictionary (e.g. people names) and allows tokenizers to skip or tokenize them.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":15,"end":30,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":35,"end":50,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":131,"end":143,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":148,"end":165,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_44":{"id":"4af57541d943_44","__typename":"Paragraph","name":"1ce3","text":"In MeCab, unknown term handling is done by heuristic rules based-on character types (e.g. consecutive Katakana characters is probably a noun). The rules and character types are defined in unk.def and char.def files.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":188,"end":195,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":200,"end":208,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_45":{"id":"4af57541d943_45","__typename":"Paragraph","name":"bdf7","text":"In this article, I am leaving the details of unknown word handling and assume that term-dictionary includes every term in the text.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":71,"end":118,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_46":{"id":"4af57541d943_46","__typename":"Paragraph","name":"c678","text":"Lattice-based Tokenization","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_47":{"id":"4af57541d943_47","__typename":"Paragraph","name":"970d","text":"As mentioned, Lattice-based tokenization is building a lattice of terms and find the best path through the lattice.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_48":{"id":"4af57541d943_48","__typename":"Paragraph","name":"98e8","text":"Given the dictionary, the tokenizer identifies all terms that “surface” on the text as sub-string, add all of them into the lattice together with their substring starting\u002Fending location, then runs the algorithm to find the best path of connected terms.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_49":{"id":"4af57541d943_49","__typename":"Paragraph","name":"0f15","text":"The simplified code would look like this:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_50":{"id":"4af57541d943_50","__typename":"Paragraph","name":"30c0","text":"val lattice = Lattice.create()","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_51":{"id":"4af57541d943_51","__typename":"Paragraph","name":"3738","text":"for i in 0..text.length {","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_52":{"id":"4af57541d943_52","__typename":"Paragraph","name":"3a5b","text":"    val terms = findAllTermStartingAt(text, i)","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":16,"end":37,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_53":{"id":"4af57541d943_53","__typename":"Paragraph","name":"3d9c","text":"    for term in terms {","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_54":{"id":"4af57541d943_54","__typename":"Paragraph","name":"3430","text":"        lattice.add(term, startIndex=i, endIndex=i+term.length)","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_55":{"id":"4af57541d943_55","__typename":"Paragraph","name":"711d","text":"    }\n    ...\n}\n...","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_56":{"id":"4af57541d943_56","__typename":"Paragraph","name":"cb1f","text":"return lattice.findTheBestPath()","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_57":{"id":"4af57541d943_57","__typename":"Paragraph","name":"c446","text":"In the example code, we use findAllTermStartingAt(..) to find all terms in the dictionary having surface form starting at the location.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":28,"end":53,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_58":{"id":"4af57541d943_58","__typename":"Paragraph","name":"072c","text":"For example, if text=\"東京都に住む\":","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":16,"end":29,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_59":{"id":"4af57541d943_59","__typename":"Paragraph","name":"67ca","text":"findAllTermStartingAt(text, 0) should return 東 (East), 東京 (Tokyo)","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":30,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_60":{"id":"4af57541d943_60","__typename":"Paragraph","name":"0b6d","text":"findAllTermStartingAt(text, 1) should return 京 (Capital), 京都 (Kyoto)","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":30,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_61":{"id":"4af57541d943_61","__typename":"Paragraph","name":"dc22","text":"…","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_62":{"id":"4af57541d943_62","__typename":"Paragraph","name":"c45b","text":"Image by author","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*EV33nzmD8vUIDaGr5LMqhQ.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":15,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_63":{"id":"4af57541d943_63","__typename":"Paragraph","name":"50c4","text":"Note:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_64":{"id":"4af57541d943_64","__typename":"Paragraph","name":"0ed6","text":"Having a fast findAllTermStartingAt(..) is very important to the tokenizer performance. Thus, the function is often implemented by efficient string matching\u002Flookup data structure, e.g. Trie or Finite-State Transducer (FST). I’m leaving the implementation details of those data structures for future articles.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":14,"end":39,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":185,"end":189,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":193,"end":222,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_65":{"id":"4af57541d943_65","__typename":"Paragraph","name":"60d7","text":"In the shown version, we identify possible terms and save all of them in memory before running the algorithm to finding the best path once at the end. There are tokenizers that use a greedy or window-based approach to actively prune out unnecessary terms to keep memory usage low. Kotori uses the shown approach because I found it is more efficient (aka. faster) and memory usage has never been a problem in practice.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_66":{"id":"4af57541d943_66","__typename":"Paragraph","name":"b633","text":"The Lattice is a graph structure containing all surfaced terms as nodes. The edges of the graph connect nodes (or terms) starting at each location with nodes ending at the same location.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":4,"end":11,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":66,"end":71,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_67":{"id":"4af57541d943_67","__typename":"Paragraph","name":"f3fa","text":"For example, 東 (ending at index=1) connected to 京 and 京都 (starting at index=1).","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_68":{"id":"4af57541d943_68","__typename":"Paragraph","name":"b5df","text":"Image by author","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*FWQSUFaQpWIezoO1ELjv2A.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":15,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_69":{"id":"4af57541d943_69","__typename":"Paragraph","name":"8f23","text":"Each node and connection will have a cost associate with it:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_70":{"id":"4af57541d943_70","__typename":"Paragraph","name":"db1a","text":"The cost of a node (orange-colored) is its term’s cost (as defined in term-dictionary)","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":18,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":43,"end":54,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":70,"end":85,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_71":{"id":"4af57541d943_71","__typename":"Paragraph","name":"09ce","text":"The cost of a connection (red-colored) is its connection cost between the ending term’s right context ID and the starting term’s left context ID (as defined in connection-cost).","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":24,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":88,"end":104,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":129,"end":144,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":160,"end":175,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_72":{"id":"4af57541d943_72","__typename":"Paragraph","name":"2b2b","text":"Note from the example that, in addition to the nodes from surfaced terms, we need to include two special nodes into the lattice.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_73":{"id":"4af57541d943_73","__typename":"Paragraph","name":"97ae","text":"A special Start node index=0, rightID=0, cost=0","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":21,"end":47,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":10,"end":15,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_74":{"id":"4af57541d943_74","__typename":"Paragraph","name":"9549","text":"A special End node index=text.length, leftID=0, cost=0","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":19,"end":54,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":10,"end":13,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_75":{"id":"4af57541d943_75","__typename":"Paragraph","name":"3cc6","text":"Both term and connection costs represent how commonly used they are. The lower the cost the more likely the terms and connections. Thus, the tokenizer's goal is to find the minimal cost path (or the ‘best’ path) from start to end. Doing so will result in the token sequence that is the most likely in Japanese.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":169,"end":190,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_76":{"id":"4af57541d943_76","__typename":"Paragraph","name":"5189","text":"Viterbi Algorithm","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":17,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_77":{"id":"4af57541d943_77","__typename":"Paragraph","name":"7e02","text":"Viterbi Algorithm is an algorithm to find the optimal path (or most likely path, or minimal cost path, etc) through the graph. Most Viterbi algorithm examples come from its application with Hidden Markov Model (e.g. POS tagging). However, I found the Viterbi algorithm usage in tokenization is very different.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":46,"end":58,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":63,"end":79,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":84,"end":101,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":190,"end":209,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":216,"end":227,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_78":{"id":"4af57541d943_78","__typename":"Paragraph","name":"b02a","text":"My explanation of the Viterbi Algorithm for Lattice-based tokenization application is as follows:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_79":{"id":"4af57541d943_79","__typename":"Paragraph","name":"606e","text":"To find the minimal path from start to tᵗʰ node, we need to consider paths through each (t-1)ᵗʰ node leading to tᵗʰ node by calculating each path’s total cost and pick the minimal path among them.","type":"BQ","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":39,"end":43,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":88,"end":95,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":112,"end":116,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_80":{"id":"4af57541d943_80","__typename":"Paragraph","name":"5df4","text":"For each (t-1)ᵗʰ node leading to tᵗʰ node:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":9,"end":16,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":33,"end":36,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_81":{"id":"4af57541d943_81","__typename":"Paragraph","name":"cfbe","text":"(Recursively) Find the minimal cost\u002Fpath from start to that (t-1)ᵗʰ node.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":46,"end":51,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":60,"end":67,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_82":{"id":"4af57541d943_82","__typename":"Paragraph","name":"b5d7","text":"Find the cost of connecting that (t-1)ᵗʰ node to tᵗʰ node","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":33,"end":40,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":49,"end":52,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_83":{"id":"4af57541d943_83","__typename":"Paragraph","name":"6f45","text":"Find the cost of tᵗʰ node itself","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":17,"end":20,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_84":{"id":"4af57541d943_84","__typename":"Paragraph","name":"02ee","text":"Adding them all together. This is the total cost from start to tᵗʰ node through the (t-1)ᵗʰ node","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":38,"end":96,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":54,"end":59,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":63,"end":66,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":84,"end":91,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_85":{"id":"4af57541d943_85","__typename":"Paragraph","name":"c84b","text":"Then, among the paths through different (t-1)ᵗʰ nodes to tᵗʰ node, pick the path with the minimal total cost.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":40,"end":47,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":57,"end":60,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_86":{"id":"4af57541d943_86","__typename":"Paragraph","name":"b92a","text":"An efficient way to implement this algorithm is dynamic programming. We can start finding the minimal path from the nodes closet to the start and reuse their minimal path to the nodes following them. Keep repeating until we calculate the minimal path for each node.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":48,"end":67,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_87":{"id":"4af57541d943_87","__typename":"Paragraph","name":"7e17","text":"for i in 0..text.length {","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_88":{"id":"4af57541d943_88","__typename":"Paragraph","name":"9473","text":"  for node in nodes.startingAt(i) {","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_89":{"id":"4af57541d943_89","__typename":"Paragraph","name":"658a","text":"    for prevNode in nodes.endingAt(i) {","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_90":{"id":"4af57541d943_90","__typename":"Paragraph","name":"a6df","text":"      val prevTotalCost = prevNode.totalCost\n      val termCost = node.cost\n      val connectionCost = getConnectionCost(prevNode.rightId, node.leftId)","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_91":{"id":"4af57541d943_91","__typename":"Paragraph","name":"fa3b","text":"      val totalCost = prevTotalCost + connectionCost + termCost\n      \n      if (totalCost \u003C node.totalCost) {\n         \n        node.totalCost = totalCost\n        node.prevNode = prevNode","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_92":{"id":"4af57541d943_92","__typename":"Paragraph","name":"6870","text":"      }\n    }\n  }\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_93":{"id":"4af57541d943_93","__typename":"Paragraph","name":"f953","text":"After executing the algorithm, the minimal path from Start to End can be found that the End node. We simply need to follow the prevNode pointer back to the Start node.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":127,"end":135,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":53,"end":58,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":62,"end":65,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":88,"end":91,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":156,"end":161,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_94":{"id":"4af57541d943_94","__typename":"Paragraph","name":"bb14","text":"This article summarizes the knowledge I learned from building a Japanese tokenizer from scratch. Again, if you like this article or what to learn more about Japanese tokenization, please checkout Kotori on Github.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":196,"end":212,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Fwanasit\u002Fkotori","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_95":{"id":"4af57541d943_95","__typename":"Paragraph","name":"d998","text":"Note: Kotori has been heavily influenced by other open-source libraries. Special thanks to Atilika (Kuromoji), WorkApplicaitons (Sudachi), and Tomoko Uchida (Janome).","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":91,"end":98,"type":"A","href":"https:\u002F\u002Fwww.atilika.org\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":111,"end":127,"type":"A","href":"https:\u002F\u002Fgithub.com\u002FWorksApplications","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":143,"end":156,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Fmocobeta","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:4af57541d943_96":{"id":"4af57541d943_96","__typename":"Paragraph","name":"946f","text":"Other resources (in Japanese):","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_97":{"id":"4af57541d943_97","__typename":"Paragraph","name":"d56e","text":"Manabu Okumura, 自然言語処理の基礎 (book)","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:4af57541d943_98":{"id":"4af57541d943_98","__typename":"Paragraph","name":"64fb","text":"Cookpad Developers’ Blog, 日本語形態素解析の裏側を覗く！MeCab はどのように形態素解析しているか","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":26,"end":63,"type":"A","href":"https:\u002F\u002Ftechlife.cookpad.com\u002Fentry\u002F2016\u002F05\u002F11\u002F170000","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"ImageMetadata:0*Hv1K60BZzfwAWdXZ":{"id":"0*Hv1K60BZzfwAWdXZ","__typename":"ImageMetadata","originalHeight":3104,"originalWidth":4672,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*EV33nzmD8vUIDaGr5LMqhQ.png":{"id":"1*EV33nzmD8vUIDaGr5LMqhQ.png","__typename":"ImageMetadata","originalHeight":324,"originalWidth":1110,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*FWQSUFaQpWIezoO1ELjv2A.png":{"id":"1*FWQSUFaQpWIezoO1ELjv2A.png","__typename":"ImageMetadata","originalHeight":476,"originalWidth":565,"focusPercentX":null,"focusPercentY":null,"alt":null},"User:895063a310f4":{"id":"895063a310f4","__typename":"User","name":"Ludovic Benistant","username":"ludobenistant"},"Tag:nlp":{"id":"nlp","__typename":"Tag","displayTitle":"NLP","normalizedTagSlug":""},"Tag:japanese":{"id":"japanese","__typename":"Tag","displayTitle":"Japanese","normalizedTagSlug":""},"Tag:algorithms":{"id":"algorithms","__typename":"Tag","displayTitle":"Algorithms","normalizedTagSlug":""},"Tag:programming":{"id":"programming","__typename":"Tag","displayTitle":"Programming","normalizedTagSlug":""},"Tag:tokenization":{"id":"tokenization","__typename":"Tag","displayTitle":"Tokenization","normalizedTagSlug":""},"TopicViewerEdge:topicId:ae5d4995e225-viewerId:9c53864550a7":{"id":"topicId:ae5d4995e225-viewerId:9c53864550a7","__typename":"TopicViewerEdge","isFollowing":false},"Post:87ab6b256984":{"id":"87ab6b256984","__typename":"Post","creator":{"__ref":"User:9c53864550a7"},"canonicalUrl":"","collection":{"__ref":"Collection:7f60cf5620c9"},"content({\"postMeteringOptions\":{\"referrer\":\"\",\"sk\":null,\"source\":null}})":{"__typename":"PostContent","isLockedPreviewOnly":false,"validatedShareKey":"","bodyModel":{"__typename":"RichText","paragraphs":[{"__ref":"Paragraph:4af57541d943_0"},{"__ref":"Paragraph:4af57541d943_1"},{"__ref":"Paragraph:4af57541d943_2"},{"__ref":"Paragraph:4af57541d943_3"},{"__ref":"Paragraph:4af57541d943_4"},{"__ref":"Paragraph:4af57541d943_5"},{"__ref":"Paragraph:4af57541d943_6"},{"__ref":"Paragraph:4af57541d943_7"},{"__ref":"Paragraph:4af57541d943_8"},{"__ref":"Paragraph:4af57541d943_9"},{"__ref":"Paragraph:4af57541d943_10"},{"__ref":"Paragraph:4af57541d943_11"},{"__ref":"Paragraph:4af57541d943_12"},{"__ref":"Paragraph:4af57541d943_13"},{"__ref":"Paragraph:4af57541d943_14"},{"__ref":"Paragraph:4af57541d943_15"},{"__ref":"Paragraph:4af57541d943_16"},{"__ref":"Paragraph:4af57541d943_17"},{"__ref":"Paragraph:4af57541d943_18"},{"__ref":"Paragraph:4af57541d943_19"},{"__ref":"Paragraph:4af57541d943_20"},{"__ref":"Paragraph:4af57541d943_21"},{"__ref":"Paragraph:4af57541d943_22"},{"__ref":"Paragraph:4af57541d943_23"},{"__ref":"Paragraph:4af57541d943_24"},{"__ref":"Paragraph:4af57541d943_25"},{"__ref":"Paragraph:4af57541d943_26"},{"__ref":"Paragraph:4af57541d943_27"},{"__ref":"Paragraph:4af57541d943_28"},{"__ref":"Paragraph:4af57541d943_29"},{"__ref":"Paragraph:4af57541d943_30"},{"__ref":"Paragraph:4af57541d943_31"},{"__ref":"Paragraph:4af57541d943_32"},{"__ref":"Paragraph:4af57541d943_33"},{"__ref":"Paragraph:4af57541d943_34"},{"__ref":"Paragraph:4af57541d943_35"},{"__ref":"Paragraph:4af57541d943_36"},{"__ref":"Paragraph:4af57541d943_37"},{"__ref":"Paragraph:4af57541d943_38"},{"__ref":"Paragraph:4af57541d943_39"},{"__ref":"Paragraph:4af57541d943_40"},{"__ref":"Paragraph:4af57541d943_41"},{"__ref":"Paragraph:4af57541d943_42"},{"__ref":"Paragraph:4af57541d943_43"},{"__ref":"Paragraph:4af57541d943_44"},{"__ref":"Paragraph:4af57541d943_45"},{"__ref":"Paragraph:4af57541d943_46"},{"__ref":"Paragraph:4af57541d943_47"},{"__ref":"Paragraph:4af57541d943_48"},{"__ref":"Paragraph:4af57541d943_49"},{"__ref":"Paragraph:4af57541d943_50"},{"__ref":"Paragraph:4af57541d943_51"},{"__ref":"Paragraph:4af57541d943_52"},{"__ref":"Paragraph:4af57541d943_53"},{"__ref":"Paragraph:4af57541d943_54"},{"__ref":"Paragraph:4af57541d943_55"},{"__ref":"Paragraph:4af57541d943_56"},{"__ref":"Paragraph:4af57541d943_57"},{"__ref":"Paragraph:4af57541d943_58"},{"__ref":"Paragraph:4af57541d943_59"},{"__ref":"Paragraph:4af57541d943_60"},{"__ref":"Paragraph:4af57541d943_61"},{"__ref":"Paragraph:4af57541d943_62"},{"__ref":"Paragraph:4af57541d943_63"},{"__ref":"Paragraph:4af57541d943_64"},{"__ref":"Paragraph:4af57541d943_65"},{"__ref":"Paragraph:4af57541d943_66"},{"__ref":"Paragraph:4af57541d943_67"},{"__ref":"Paragraph:4af57541d943_68"},{"__ref":"Paragraph:4af57541d943_69"},{"__ref":"Paragraph:4af57541d943_70"},{"__ref":"Paragraph:4af57541d943_71"},{"__ref":"Paragraph:4af57541d943_72"},{"__ref":"Paragraph:4af57541d943_73"},{"__ref":"Paragraph:4af57541d943_74"},{"__ref":"Paragraph:4af57541d943_75"},{"__ref":"Paragraph:4af57541d943_76"},{"__ref":"Paragraph:4af57541d943_77"},{"__ref":"Paragraph:4af57541d943_78"},{"__ref":"Paragraph:4af57541d943_79"},{"__ref":"Paragraph:4af57541d943_80"},{"__ref":"Paragraph:4af57541d943_81"},{"__ref":"Paragraph:4af57541d943_82"},{"__ref":"Paragraph:4af57541d943_83"},{"__ref":"Paragraph:4af57541d943_84"},{"__ref":"Paragraph:4af57541d943_85"},{"__ref":"Paragraph:4af57541d943_86"},{"__ref":"Paragraph:4af57541d943_87"},{"__ref":"Paragraph:4af57541d943_88"},{"__ref":"Paragraph:4af57541d943_89"},{"__ref":"Paragraph:4af57541d943_90"},{"__ref":"Paragraph:4af57541d943_91"},{"__ref":"Paragraph:4af57541d943_92"},{"__ref":"Paragraph:4af57541d943_93"},{"__ref":"Paragraph:4af57541d943_94"},{"__ref":"Paragraph:4af57541d943_95"},{"__ref":"Paragraph:4af57541d943_96"},{"__ref":"Paragraph:4af57541d943_97"},{"__ref":"Paragraph:4af57541d943_98"}],"sections":[{"__typename":"Section","name":"ced7","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"3cac","startIndex":94,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}]}},"customStyleSheet":{"__ref":"CustomStyleSheet:63d23b36fcaa"},"firstPublishedAt":1599352168457,"isLocked":true,"isPublished":true,"isShortform":false,"layerCake":4,"primaryTopic":{"__ref":"Topic:ae5d4995e225"},"viewerEdge":{"__ref":"PostViewerEdge:postId:87ab6b256984-viewerId:9c53864550a7"},"title":"How Japanese Tokenizers Work","isMarkedPaywallOnly":false,"mediumUrl":"https:\u002F\u002Ftowardsdatascience.com\u002Fhow-japanese-tokenizers-work-87ab6b256984","isLimitedState":false,"visibility":"LOCKED","license":"ALL_RIGHTS_RESERVED","allowResponses":true,"newsletterId":"","sequence":null,"tags":[{"__ref":"Tag:nlp"},{"__ref":"Tag:japanese"},{"__ref":"Tag:algorithms"},{"__ref":"Tag:programming"},{"__ref":"Tag:tokenization"}],"topics":[{"__typename":"Topic","topicId":"1eca0103fff3","name":"Machine Learning"},{"__typename":"Topic","topicId":"26c9f503b013","name":"Language"},{"__typename":"Topic","topicId":"ae5d4995e225","name":"Data Science"},{"__typename":"Topic","topicId":"decb52b64abf","name":"Programming"}],"inResponseToPostResult":null,"isNewsletter":false,"socialTitle":"","socialDek":"","noIndex":null,"curationStatus":"CURATION_STATUS_NOT_DISTRIBUTED","metaDescription":"","latestPublishedAt":1599485879673,"readingTime":7.010377358490566,"previewContent":{"__typename":"PreviewContent","subtitle":"A deep dive into Japanese tokenization and its components (Dictionary, Lattice, Viterbi algorithm, etc) by open-source library examples"},"previewImage":{"__ref":"ImageMetadata:0*Hv1K60BZzfwAWdXZ"},"clapCount":95,"isSuspended":false,"pendingCollection":null,"statusForCollection":"APPROVED","lockedSource":"LOCKED_POST_SOURCE_UGC","pinnedAt":0,"pinnedByCreatorAt":0,"curationEligibleAt":1599352167004,"responseDistribution":"NOT_DISTRIBUTED","collaborators":[],"translationSourcePost":null,"inResponseToMediaResource":null,"audioVersionUrl":"","seoTitle":"","updatedAt":1599485885499,"shortformType":"SHORTFORM_TYPE_LINK","structuredData":"","seoDescription":"","postResponses":{"__typename":"PostResponses","count":0},"latestPublishedVersion":"4af57541d943","isPublishToEmail":false,"voterCount":12,"recommenders":[]}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.ccc16e22.js"></script><script src="https://cdn-client.medium.com/lite/static/js/5972.c744158c.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.7fd4252b.js"></script><script src="https://cdn-client.medium.com/lite/static/js/5573.159bf40f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/instrumentation.6fa29f8a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/reporting.38240375.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1752.a348f767.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2173.fe1c20f2.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/953.19c0a4db.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9692.66f1dcc2.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9684.50f6411d.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5064.a8440544.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9997.1c272a7f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4586.c42e3ca4.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9046.54f4c0a6.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2846.084513bd.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4579.60be4851.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2712.38fb8917.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5828.8752de66.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9972.2e7900a2.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6483.07f1e996.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3810.437fb34a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7526.830c330e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9458.39b9260a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7883.86c57aa3.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1429.f9500755.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9810.4c7530e0.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4697.5dd4b3d4.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2289.f33b42f7.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7701.9238c430.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3507.d37cf76f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostSidebar.43c49b5b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6371.5ca4d6e5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1938.2e4fb86a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/197.7d740b5a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6179.b67de7da.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/Post.bdd9db41.chunk.js"></script><script>window.main();</script></body></html>